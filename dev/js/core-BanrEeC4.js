import{e,d as t}from"./utils-BbQaLTsI.js";import{s as n,d as o}from"./image-uploader-gAKnoYUY.js";import{s as r}from"./api-CAVRiEoo.js";const a=[{id:"teamwork-1",name:"ãƒãƒ¼ãƒ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°",url:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=400&q=60"},{id:"teamwork-2",name:"ã‚ªãƒ•ã‚£ã‚¹ãƒ¯ãƒ¼ã‚¯",url:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=400&q=60"},{id:"teamwork-3",name:"ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³",url:"https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=400&q=60"},{id:"teamwork-4",name:"ãƒ“ã‚¸ãƒã‚¹æ¡æ‰‹",url:"https://images.unsplash.com/photo-1521791136064-7986c2920216?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1521791136064-7986c2920216?w=400&q=60"},{id:"teamwork-5",name:"ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—",url:"https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?w=400&q=60"},{id:"work-1",name:"è£½é€ ãƒ©ã‚¤ãƒ³",url:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=400&q=60"},{id:"work-2",name:"å€‰åº«ä½œæ¥­",url:"https://images.unsplash.com/photo-1553413077-190dd305871c?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1553413077-190dd305871c?w=400&q=60"},{id:"work-3",name:"å»ºè¨­ç¾å ´",url:"https://images.unsplash.com/photo-1504307651254-35680f356dfd?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1504307651254-35680f356dfd?w=400&q=60"},{id:"work-4",name:"å·¥å ´ä½œæ¥­",url:"https://images.unsplash.com/photo-1573164713988-8665fc963095?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1573164713988-8665fc963095?w=400&q=60"},{id:"work-5",name:"ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯",url:"https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=400&q=60"}];function i(e,t=""){u(e.layoutStyle||"default"),m(e.designPattern||"standard"),l("recruit-logo-url",e.logoUrl||""),l("recruit-company-name-display",e.companyNameDisplay||""),l("recruit-phone-number",e.phoneNumber||""),l("recruit-cta-button-text",e.ctaButtonText||"ä»Šã™ãå¿œå‹Ÿã™ã‚‹"),l("recruit-hero-title",e.heroTitle||(t?`${t}ã§åƒã“ã†`:"")),l("recruit-hero-subtitle",e.heroSubtitle||""),l("recruit-hero-image",e.heroImage||""),l("recruit-company-intro",e.companyIntro||""),l("recruit-jobs-title",e.jobsTitle||"å‹Ÿé›†ä¸­ã®æ±‚äºº"),l("recruit-cta-title",e.ctaTitle||"ã‚ãªãŸã®å¿œå‹Ÿã‚’ãŠå¾…ã¡ã—ã¦ã„ã¾ã™"),l("recruit-cta-text",e.ctaText||""),l("recruit-ogp-title",e.ogpTitle||""),l("recruit-ogp-description",e.ogpDescription||""),l("recruit-ogp-image",e.ogpImage||""),b(e.heroImage||""),f(e.logoUrl||"")}function c(e="",t="",n=""){u("default"),m("standard"),l("recruit-logo-url",""),l("recruit-company-name-display",e||""),l("recruit-phone-number",""),l("recruit-cta-button-text","ä»Šã™ãå¿œå‹Ÿã™ã‚‹"),l("recruit-hero-title",e?`${e}ã§åƒã“ã†`:""),l("recruit-hero-subtitle",t?function(e,t){if(!e)return"";const n=e.replace(/<[^>]*>/g,"").replace(/\n/g," ");return n.length<=t?n:n.substring(0,t)+"..."}(t,100):"ç§ãŸã¡ã¨ä¸€ç·’ã«åƒãã¾ã›ã‚“ã‹ï¼Ÿ"),l("recruit-hero-image",n||""),l("recruit-company-intro",""),l("recruit-jobs-title","å‹Ÿé›†ä¸­ã®æ±‚äºº"),l("recruit-cta-title","ã‚ãªãŸã®å¿œå‹Ÿã‚’ãŠå¾…ã¡ã—ã¦ã„ã¾ã™"),l("recruit-cta-text","æ°—ã«ãªã‚‹æ±‚äººãŒã‚ã‚Œã°ã€ãœã²ãŠæ°—è»½ã«ã”å¿œå‹Ÿãã ã•ã„ã€‚"),l("recruit-ogp-title",""),l("recruit-ogp-description",""),l("recruit-ogp-image",""),b(n||""),f("")}function l(e,t){const n=document.getElementById(e);n&&(n.value=t||"")}function u(e){const t=document.querySelector(`input[name="recruit-layout-style"][value="${e}"]`);t&&(t.checked=!0)}function s(){const e=document.querySelector('input[name="recruit-layout-style"]:checked');return(null==e?void 0:e.value)||"default"}function m(e){const t=document.querySelector(`input[name="recruit-design-pattern"][value="${e}"]`);t&&(t.checked=!0)}function d(){const e=document.querySelector('input[name="recruit-design-pattern"]:checked');return(null==e?void 0:e.value)||"standard"}function p(e){const t=document.getElementById("btn-save-recruit-settings");t&&(t.disabled=e,t.textContent=e?"ä¿å­˜ä¸­...":"æ¡ç”¨ãƒšãƒ¼ã‚¸è¨­å®šã‚’ä¿å­˜")}async function h(e,n){if(!e)return t("ä¼šç¤¾æƒ…å ±ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“","error"),null;const o=function(e){var t,n,o,r,a,i,c,l,u,m,p,h,g,y;return{companyDomain:e||"",layoutStyle:s(),designPattern:d(),logoUrl:(null==(t=document.getElementById("recruit-logo-url"))?void 0:t.value)||"",companyNameDisplay:(null==(n=document.getElementById("recruit-company-name-display"))?void 0:n.value)||"",phoneNumber:(null==(o=document.getElementById("recruit-phone-number"))?void 0:o.value)||"",ctaButtonText:(null==(r=document.getElementById("recruit-cta-button-text"))?void 0:r.value)||"ä»Šã™ãå¿œå‹Ÿã™ã‚‹",heroTitle:(null==(a=document.getElementById("recruit-hero-title"))?void 0:a.value)||"",heroSubtitle:(null==(i=document.getElementById("recruit-hero-subtitle"))?void 0:i.value)||"",heroImage:(null==(c=document.getElementById("recruit-hero-image"))?void 0:c.value)||"",companyIntro:(null==(l=document.getElementById("recruit-company-intro"))?void 0:l.value)||"",jobsTitle:(null==(u=document.getElementById("recruit-jobs-title"))?void 0:u.value)||"",ctaTitle:(null==(m=document.getElementById("recruit-cta-title"))?void 0:m.value)||"",ctaText:(null==(p=document.getElementById("recruit-cta-text"))?void 0:p.value)||"",ogpTitle:(null==(h=document.getElementById("recruit-ogp-title"))?void 0:h.value)||"",ogpDescription:(null==(g=document.getElementById("recruit-ogp-description"))?void 0:g.value)||"",ogpImage:(null==(y=document.getElementById("recruit-ogp-image"))?void 0:y.value)||""}}(e);p(!0);try{return await r(o),t("æ¡ç”¨ãƒšãƒ¼ã‚¸è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ","success"),n&&n(o),o}catch(a){return console.error("[RecruitSettings] ä¿å­˜ã‚¨ãƒ©ãƒ¼:",a),t("ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ: "+a.message,"error"),null}finally{p(!1)}}function g(e,n="",o="",r=""){e&&Object.keys(e).length>0?i(e,n):c(n,o,r),t("è¨­å®šã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ","info")}function y(e){const t=document.getElementById("recruit-preview-btn");t&&e&&(t.href=`company-recruit.html?id=${encodeURIComponent(e)}`);const n=document.getElementById("recruit-edit-btn");n&&e&&(n.href=`company-recruit.html?id=${encodeURIComponent(e)}&edit`)}function v(){const t=document.getElementById("recruit-hero-image-presets");t&&(t.innerHTML=a.map(t=>`\n    <div class="hero-image-preset" data-url="${e(t.url)}" title="${e(t.name)}">\n      <img src="${e(t.thumbnail)}" alt="${e(t.name)}" loading="lazy">\n      <span class="preset-name">${e(t.name)}</span>\n      <span class="preset-check">âœ“</span>\n    </div>\n  `).join(""),t.querySelectorAll(".hero-image-preset").forEach(e=>{e.addEventListener("click",()=>{!function(e){const t=document.getElementById("recruit-hero-image");t&&(t.value=e,t.dispatchEvent(new Event("input",{bubbles:!0})));b(e)}(e.dataset.url)})}))}function b(e){const t=document.getElementById("recruit-hero-image-presets");t&&t.querySelectorAll(".hero-image-preset").forEach(t=>{const n=t.dataset.url,o=(null==e?void 0:e.split("?")[0])||"",r=(null==n?void 0:n.split("?")[0])||"";o&&r&&o===r?t.classList.add("selected"):t.classList.remove("selected")})}function f(t){const n=document.getElementById("recruit-logo-preview");n&&(n.innerHTML=t?`<img src="${e(t)}" alt="ãƒ­ã‚´ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼">`:'<span class="logo-placeholder">ãƒ­ã‚´æœªè¨­å®š</span>')}function w(e){let r=document.getElementById("btn-upload-logo"),a=document.getElementById("recruit-logo-url");const i=document.getElementById("recruit-logo-preview");if(!r||!a)return;const c=r.cloneNode(!0);r.parentNode.replaceChild(c,r),r=c;const l=a.cloneNode(!0);a.parentNode.replaceChild(l,a),a=l,a.addEventListener("input",()=>{f(a.value)}),r.addEventListener("click",async()=>{if(e)try{const c=await n({accept:"image/png,image/jpeg,image/webp,image/svg+xml"});r.disabled=!0,r.innerHTML='<span class="upload-spinner"></span> ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­...',i&&(i.classList.add("uploading"),i.innerHTML='<div class="upload-spinner"></div>');const l=Date.now(),u=await o(c,e),s=u.includes("?")?`${u}&t=${l}`:`${u}?t=${l}`;a.value=s,f(s),t("ãƒ­ã‚´ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸ","success")}catch(c){console.error("[RecruitSettings] ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼:",c),"ãƒ•ã‚¡ã‚¤ãƒ«ãŒé¸æŠã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ"!==c.message&&t("ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ: "+c.message,"error"),f(a.value)}finally{r.disabled=!1,r.innerHTML='<span class="upload-icon">ğŸ“·</span> ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰',i&&i.classList.remove("uploading")}else t("ä¼šç¤¾æƒ…å ±ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“","error")})}export{g as a,c as b,a as c,h,i as p,v as r,w as s,y as u};
