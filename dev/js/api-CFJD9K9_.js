import{n as t,k as e}from"./firestore-service-B91FO87B.js";const s=new Map;async function n(e){if(!e)return null;const n=Date.now(),r=s.get(e);if(r&&n-r.timestamp<3e5)return r.data;try{const r=await t(e);if(r.success&&r.settings&&Object.keys(r.settings).length>0)return s.set(e,{data:r.settings,timestamp:n}),r.settings}catch(a){console.log("[RecruitSettings] Firestore読み込みエラー:",a)}return(null==r?void 0:r.data)||null}async function r(t){try{const n=await e(t.companyDomain,t);if(!n.success)throw new Error(n.error||"保存に失敗しました");return t.companyDomain&&s.set(t.companyDomain,{data:t,timestamp:Date.now()}),n}catch(n){throw console.error("[RecruitSettings] Firestore保存エラー:",n),n}}export{n as l,r as s};
