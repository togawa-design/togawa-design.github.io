import"./modulepreload-polyfill-YP0FEG5d.js";import{escapeHtml as n,trackEvent as e}from"./utils-BB91om2o.js";import{h as o,k as t}from"./jobs-loader-B-Q2mOFQ.js";import{J as a}from"./index-CMZR5pAg.js";import{a as c}from"./index-wtwHKwUG.js";import{i as r}from"./layout-CdN6d6fy.js";const i={"北海道":"北海道・東北","青森県":"北海道・東北","岩手県":"北海道・東北","宮城県":"北海道・東北","秋田県":"北海道・東北","山形県":"北海道・東北","福島県":"北海道・東北","茨城県":"関東","栃木県":"関東","群馬県":"関東","埼玉県":"関東","千葉県":"関東","東京都":"関東","神奈川県":"関東","新潟県":"北陸・甲信越","富山県":"北陸・甲信越","石川県":"北陸・甲信越","福井県":"北陸・甲信越","山梨県":"北陸・甲信越","長野県":"北陸・甲信越","岐阜県":"東海","静岡県":"東海","愛知県":"東海","三重県":"東海","滋賀県":"関西","京都府":"関西","大阪府":"関西","兵庫県":"関西","奈良県":"関西","和歌山県":"関西","鳥取県":"中国","島根県":"中国","岡山県":"中国","広島県":"中国","山口県":"中国","徳島県":"四国","香川県":"四国","愛媛県":"四国","高知県":"四国","福岡県":"九州・沖縄","佐賀県":"九州・沖縄","長崎県":"九州・沖縄","熊本県":"九州・沖縄","大分県":"九州・沖縄","宮崎県":"九州・沖縄","鹿児島県":"九州・沖縄","沖縄県":"九州・沖縄"},s=["北海道・東北","関東","北陸・甲信越","東海","関西","中国","四国","九州・沖縄"];async function l(e){document.title="勤務地から探す | L-SET";const t=document.getElementById("breadcrumb-current");t&&(t.textContent="勤務地から探す");try{const t=await o();if(!t||0===t.length)return void(e.innerHTML='\n        <div class="jobs-error">\n          <p>勤務地データがありません。</p>\n          <a href="/" class="btn-more">トップページに戻る</a>\n        </div>\n      ');const a=function(n){const e={};return s.forEach(n=>{e[n]=[]}),n.forEach(n=>{const o=i[n.prefecture]||"その他";e[o]||(e[o]=[]),e[o].push(n)}),Object.keys(e).forEach(n=>{0===e[n].length&&delete e[n]}),e}(t);e.innerHTML=`\n      <div class="location-page-header">\n        <h1 class="location-page-title">勤務地から探す</h1>\n        <p class="location-page-description">働きたいエリアから求人を探せます</p>\n      </div>\n      <div class="location-regions">\n        ${Object.entries(a).map(([e,o])=>`\n          <div class="location-region">\n            <h2 class="location-region-title">${n(e)}</h2>\n            <div class="location-prefecture-grid">\n              ${o.map(e=>`\n                <a href="location.html?prefecture=${encodeURIComponent(e.prefecture)}" class="location-prefecture-card">\n                  <span class="prefecture-name">${n(e.prefecture)}</span>\n                  <span class="prefecture-count">${e.count}件</span>\n                </a>\n              `).join("")}\n            </div>\n          </div>\n        `).join("")}\n      </div>\n    `}catch(a){console.error("エリア一覧の取得エラー:",a),e.innerHTML='\n      <div class="jobs-error">\n        <p>データの取得に失敗しました。</p>\n        <button onclick="location.reload()">再読み込み</button>\n      </div>\n    '}}async function d(){const i=document.getElementById("location-page-container");if(!i)return;const s=new URLSearchParams(window.location.search).get("prefecture");s?await async function(o,c){document.title=`${c}の求人一覧 | L-SET`;const r=document.querySelector('meta[name="description"]');r&&(r.content=`${c}の求人一覧。様々な業種の求人を多数掲載。`);const i=document.getElementById("breadcrumb-current");i&&(i.textContent=`${c}の求人`);try{const r=await t(c);if(!r||0===r.length)return void(o.innerHTML=`\n        <div class="location-page-header">\n          <h1 class="location-page-title">${n(c)}の求人</h1>\n          <p class="location-page-description">現在、${n(c)}の求人はありません</p>\n        </div>\n        <div class="jobs-error">\n          <p>${n(c)}の求人が見つかりませんでした。</p>\n          <a href="location.html" class="btn-more">他のエリアを探す</a>\n        </div>\n      `);o.innerHTML=`\n      <div class="location-page-header">\n        <h1 class="location-page-title">${n(c)}の求人</h1>\n        <p class="location-page-description">${r.length}件の求人が見つかりました</p>\n      </div>\n      <div class="jobs-grid location-jobs-grid">\n        ${r.map(n=>a({job:n,showCompanyName:!0})).join("")}\n      </div>\n    `,e("view_location_page",{prefecture:c,job_count:r.length,page_location:window.location.href,page_title:document.title})}catch(s){console.error("求人の取得エラー:",s),o.innerHTML='\n      <div class="jobs-error">\n        <p>データの取得に失敗しました。</p>\n        <button onclick="location.reload()">再読み込み</button>\n      </div>\n    '}}(i,s):await l(i),await async function(e){const t=document.getElementById("other-locations-container");if(t)try{const a=(await o()).filter(n=>n.prefecture!==e).slice(0,6);if(0===a.length){const n=document.getElementById("other-locations");return void(n&&(n.style.display="none"))}t.innerHTML=`\n      <div class="other-locations-grid">\n        ${a.map(e=>`\n          <a href="location.html?prefecture=${encodeURIComponent(e.prefecture)}" class="other-location-card">\n            <span class="other-location-name">${n(e.prefecture)}</span>\n            <span class="other-location-count">${e.count}件の求人</span>\n          </a>\n        `).join("")}\n      </div>\n      <div class="other-locations-more">\n        <a href="location.html" class="btn-more">すべてのエリアを見る</a>\n      </div>\n    `}catch(a){console.error("他のエリアの取得エラー:",a),t.innerHTML="<p>データの取得に失敗しました</p>"}}(s),c(),r()}document.addEventListener("DOMContentLoaded",()=>{d()});
