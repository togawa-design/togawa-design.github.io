import{escapeHtml as e,showToast as t}from"./utils-BB91om2o.js";import{s as n,d as i}from"./image-uploader-gAKnoYUY.js";import{s as l}from"./api-Dk4Kctww.js";const c=[{id:"teamwork-1",name:"ãƒãƒ¼ãƒ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°",url:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=400&q=60"},{id:"teamwork-2",name:"ã‚ªãƒ•ã‚£ã‚¹ãƒ¯ãƒ¼ã‚¯",url:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=400&q=60"},{id:"teamwork-3",name:"ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³",url:"https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=400&q=60"},{id:"teamwork-4",name:"ãƒ“ã‚¸ãƒã‚¹æ¡æ‰‹",url:"https://images.unsplash.com/photo-1521791136064-7986c2920216?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1521791136064-7986c2920216?w=400&q=60"},{id:"teamwork-5",name:"ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—",url:"https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?w=400&q=60"},{id:"work-1",name:"ä½œæ¥­é¢¨æ™¯",url:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=400&q=60"},{id:"work-2",name:"å€‰åº«ä½œæ¥­",url:"https://images.unsplash.com/photo-1553413077-190dd305871c?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1553413077-190dd305871c?w=400&q=60"},{id:"work-3",name:"å»ºè¨­ç¾å ´",url:"https://images.unsplash.com/photo-1504307651254-35680f356dfd?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1504307651254-35680f356dfd?w=400&q=60"},{id:"work-4",name:"æŠ€è¡“è·",url:"https://images.unsplash.com/photo-1573164713988-8665fc963095?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1573164713988-8665fc963095?w=400&q=60"},{id:"work-5",name:"ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯",url:"https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=1920&q=80",thumbnail:"https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=400&q=60"}],o=[{id:"message",name:"MESSAGE",label:"ç§ãŸã¡ã®æƒ³ã„",description:"çµŒå–¶ç†å¿µãªã©ã€ä»£è¡¨è€…ã‚„æ¡ç”¨æ‹…å½“è€…ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»åƒã‚’æ·»ãˆã¦ä¼ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚",thumbnail:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 80"%3E%3Cdefs%3E%3ClinearGradient id="msgBg" x1="0%25" y1="0%25" x2="100%25" y2="100%25"%3E%3Cstop offset="0%25" stop-color="%234AA7C0"/%3E%3Cstop offset="100%25" stop-color="%233a8fa6"/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill="url(%23msgBg)" width="120" height="80" rx="4"/%3E%3Crect fill="%23fff" opacity="0.2" x="8" y="12" width="40" height="56" rx="3"/%3E%3Ccircle fill="%23fff" opacity="0.3" cx="28" cy="32" r="12"/%3E%3Crect fill="%23fff" opacity="0.15" x="14" y="48" width="28" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.15" x="18" y="54" width="20" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.9" x="56" y="16" width="56" height="6" rx="2"/%3E%3Crect fill="%23fff" opacity="0.5" x="56" y="28" width="52" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.5" x="56" y="34" width="48" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.5" x="56" y="40" width="50" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.5" x="56" y="46" width="44" height="3" rx="1"/%3E%3Cpath fill="%23fff" opacity="0.8" d="M64 58 L72 58 L68 64 Z"/%3E%3C/svg%3E',fields:[{key:"title",type:"text",label:"è¦‹å‡ºã—",placeholder:"ç§ãŸã¡ã®æƒ³ã„"},{key:"headline",type:"text",label:"ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼",placeholder:"ä¾‹ï¼‰æ±‚è·å¸Œæœ›è€…ã®äººç”Ÿã‚’å¤‰ãˆã‚‹ä»•äº‹ã«æºã‚ã‚Šã¾ã›ã‚“ã‹ã€‚"},{key:"description",type:"textarea",label:"æœ¬æ–‡",placeholder:"ä¾‹ï¼‰ã€Œä»•äº‹ã‚’é€šã—ã¦ã€äººç”Ÿã‚’è±Šã‹ã«ã™ã‚‹ã€‚ã€ãã‚ŒãŒç§ãŸã¡ã®ãƒŸãƒƒã‚·ãƒ§ãƒ³ã§ã™ã€‚"},{key:"image",type:"image",label:"ç”»åƒ"}]},{id:"about",name:"ABOUT",label:"ç§ãŸã¡ã«ã¤ã„ã¦",description:"å†™çœŸã‚„ãƒ­ã‚´ã¨æ–‡ç« ã§ã€ä¼šç¤¾ç´¹ä»‹ãªã©ã‚’è¨˜è¼‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚",thumbnail:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 80"%3E%3Cdefs%3E%3ClinearGradient id="abtBg" x1="0%25" y1="0%25" x2="100%25" y2="100%25"%3E%3Cstop offset="0%25" stop-color="%236366f1"/%3E%3Cstop offset="100%25" stop-color="%234f46e5"/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill="url(%23abtBg)" width="120" height="80" rx="4"/%3E%3Ccircle fill="%23fff" opacity="0.25" cx="32" cy="40" r="22"/%3E%3Crect fill="%23fff" opacity="0.9" x="22" y="32" width="20" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.6" x="22" y="38" width="20" height="16" rx="2"/%3E%3Crect fill="%23fff" opacity="0.4" x="26" y="42" width="5" height="8" rx="1"/%3E%3Crect fill="%23fff" opacity="0.4" x="33" y="42" width="5" height="8" rx="1"/%3E%3Crect fill="%23fff" opacity="0.9" x="62" y="18" width="48" height="5" rx="2"/%3E%3Crect fill="%23fff" opacity="0.5" x="62" y="28" width="50" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.5" x="62" y="34" width="46" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.5" x="62" y="40" width="48" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.5" x="62" y="46" width="42" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.5" x="62" y="52" width="44" height="3" rx="1"/%3E%3C/svg%3E',fields:[{key:"title",type:"text",label:"è¦‹å‡ºã—",placeholder:"ç§ãŸã¡ã«ã¤ã„ã¦"},{key:"description",type:"textarea",label:"æœ¬æ–‡",placeholder:"ä¼šç¤¾ã®ç´¹ä»‹æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"},{key:"image",type:"image",label:"ç”»åƒãƒ»ãƒ­ã‚´"}]},{id:"business",name:"BUSINESS",label:"äº‹æ¥­å†…å®¹",description:"äº‹æ¥­å†…å®¹ã‚’ç´¹ä»‹ã§ãã¾ã™ã€‚é …ç›®ã¯æœ€å¤§4ã¤è¿½åŠ ã§ãã¾ã™ã€‚",thumbnail:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 80"%3E%3Cdefs%3E%3ClinearGradient id="bizBg" x1="0%25" y1="0%25" x2="100%25" y2="100%25"%3E%3Cstop offset="0%25" stop-color="%2310b981"/%3E%3Cstop offset="100%25" stop-color="%23059669"/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill="url(%23bizBg)" width="120" height="80" rx="4"/%3E%3Crect fill="%23fff" opacity="0.2" x="6" y="10" width="50" height="28" rx="4"/%3E%3Ccircle fill="%23fff" opacity="0.8" cx="31" cy="20" r="6"/%3E%3Crect fill="%23fff" opacity="0.5" x="16" y="30" width="30" height="2" rx="1"/%3E%3Crect fill="%23fff" opacity="0.2" x="64" y="10" width="50" height="28" rx="4"/%3E%3Ccircle fill="%23fff" opacity="0.8" cx="89" cy="20" r="6"/%3E%3Crect fill="%23fff" opacity="0.5" x="74" y="30" width="30" height="2" rx="1"/%3E%3Crect fill="%23fff" opacity="0.2" x="6" y="42" width="50" height="28" rx="4"/%3E%3Ccircle fill="%23fff" opacity="0.8" cx="31" cy="52" r="6"/%3E%3Crect fill="%23fff" opacity="0.5" x="16" y="62" width="30" height="2" rx="1"/%3E%3Crect fill="%23fff" opacity="0.2" x="64" y="42" width="50" height="28" rx="4"/%3E%3Ccircle fill="%23fff" opacity="0.8" cx="89" cy="52" r="6"/%3E%3Crect fill="%23fff" opacity="0.5" x="74" y="62" width="30" height="2" rx="1"/%3E%3C/svg%3E',fields:[{key:"title",type:"text",label:"è¦‹å‡ºã—",placeholder:"äº‹æ¥­å†…å®¹"},{key:"items",type:"items",label:"é …ç›®ï¼ˆæœ€å¤§4ã¤ï¼‰",maxItems:4,itemFields:[{key:"name",type:"text",label:"é …ç›®å",placeholder:"ä¾‹ï¼‰äººææ´¾é£äº‹æ¥­"},{key:"description",type:"textarea",label:"èª¬æ˜",placeholder:"äº‹æ¥­ã®èª¬æ˜ã‚’å…¥åŠ›"}]}]},{id:"photos",name:"PHOTOS",label:"åƒãç’°å¢ƒ",description:"è·å ´ã®å†™çœŸã‚’è¤‡æ•°æšæ²è¼‰ã—ã¦ã€åƒãç’°å¢ƒã‚’ã‚¢ãƒ”ãƒ¼ãƒ«ã§ãã¾ã™ã€‚",thumbnail:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 80"%3E%3Cdefs%3E%3ClinearGradient id="phtBg" x1="0%25" y1="0%25" x2="100%25" y2="100%25"%3E%3Cstop offset="0%25" stop-color="%23f59e0b"/%3E%3Cstop offset="100%25" stop-color="%23d97706"/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill="url(%23phtBg)" width="120" height="80" rx="4"/%3E%3Crect fill="%23fff" opacity="0.3" x="6" y="12" width="34" height="24" rx="3"/%3E%3Ccircle fill="%23fff" opacity="0.6" cx="14" cy="20" r="3"/%3E%3Cpath fill="%23fff" opacity="0.5" d="M10 32 L18 24 L26 30 L32 26 L36 32 L10 32 Z"/%3E%3Crect fill="%23fff" opacity="0.3" x="43" y="12" width="34" height="24" rx="3"/%3E%3Ccircle fill="%23fff" opacity="0.6" cx="51" cy="20" r="3"/%3E%3Cpath fill="%23fff" opacity="0.5" d="M47 32 L55 24 L63 30 L69 26 L73 32 L47 32 Z"/%3E%3Crect fill="%23fff" opacity="0.3" x="80" y="12" width="34" height="24" rx="3"/%3E%3Ccircle fill="%23fff" opacity="0.6" cx="88" cy="20" r="3"/%3E%3Cpath fill="%23fff" opacity="0.5" d="M84 32 L92 24 L100 30 L106 26 L110 32 L84 32 Z"/%3E%3Crect fill="%23fff" opacity="0.3" x="6" y="40" width="34" height="24" rx="3"/%3E%3Ccircle fill="%23fff" opacity="0.6" cx="14" cy="48" r="3"/%3E%3Cpath fill="%23fff" opacity="0.5" d="M10 60 L18 52 L26 58 L32 54 L36 60 L10 60 Z"/%3E%3Crect fill="%23fff" opacity="0.3" x="43" y="40" width="34" height="24" rx="3"/%3E%3Ccircle fill="%23fff" opacity="0.6" cx="51" cy="48" r="3"/%3E%3Cpath fill="%23fff" opacity="0.5" d="M47 60 L55 52 L63 58 L69 54 L73 60 L47 60 Z"/%3E%3Crect fill="%23fff" opacity="0.3" x="80" y="40" width="34" height="24" rx="3"/%3E%3Ccircle fill="%23fff" opacity="0.6" cx="88" cy="48" r="3"/%3E%3Cpath fill="%23fff" opacity="0.5" d="M84 60 L92 52 L100 58 L106 54 L110 60 L84 60 Z"/%3E%3C/svg%3E',fields:[{key:"title",type:"text",label:"è¦‹å‡ºã—",placeholder:"åƒãç’°å¢ƒ"},{key:"images",type:"gallery",label:"å†™çœŸï¼ˆæœ€å¤§6æšï¼‰",maxImages:6}]},{id:"text",name:"TEXT",label:"ãƒ†ã‚­ã‚¹ãƒˆ",description:"è‡ªç”±ãªãƒ†ã‚­ã‚¹ãƒˆã‚’è¿½åŠ ã§ãã¾ã™ã€‚",thumbnail:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 80"%3E%3Cdefs%3E%3ClinearGradient id="txtBg" x1="0%25" y1="0%25" x2="100%25" y2="100%25"%3E%3Cstop offset="0%25" stop-color="%238b5cf6"/%3E%3Cstop offset="100%25" stop-color="%237c3aed"/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill="url(%23txtBg)" width="120" height="80" rx="4"/%3E%3Crect fill="%23fff" opacity="0.2" x="10" y="12" width="100" height="56" rx="4"/%3E%3Crect fill="%23fff" opacity="0.8" x="18" y="20" width="84" height="4" rx="2"/%3E%3Crect fill="%23fff" opacity="0.5" x="18" y="30" width="80" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.5" x="18" y="36" width="76" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.5" x="18" y="42" width="82" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.5" x="18" y="48" width="70" height="3" rx="1"/%3E%3Crect fill="%23fff" opacity="0.5" x="18" y="54" width="74" height="3" rx="1"/%3E%3C/svg%3E',fields:[{key:"content",type:"textarea",label:"ãƒ†ã‚­ã‚¹ãƒˆ",placeholder:"è‡ªç”±ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"}]},{id:"heading",name:"HEADING",label:"è¦‹å‡ºã—",description:"ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®åŒºåˆ‡ã‚Šã¨ãªã‚‹è¦‹å‡ºã—ã‚’è¿½åŠ ã§ãã¾ã™ã€‚",thumbnail:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 80"%3E%3Cdefs%3E%3ClinearGradient id="hdgBg" x1="0%25" y1="0%25" x2="100%25" y2="100%25"%3E%3Cstop offset="0%25" stop-color="%23ec4899"/%3E%3Cstop offset="100%25" stop-color="%23db2777"/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill="url(%23hdgBg)" width="120" height="80" rx="4"/%3E%3Crect fill="%23fff" opacity="0.3" x="20" y="28" width="80" height="24" rx="4"/%3E%3Crect fill="%23fff" opacity="0.9" x="30" y="36" width="60" height="8" rx="2"/%3E%3Crect fill="%23fff" opacity="0.4" x="40" y="56" width="40" height="2" rx="1"/%3E%3C/svg%3E',fields:[{key:"content",type:"text",label:"è¦‹å‡ºã—ãƒ†ã‚­ã‚¹ãƒˆ",placeholder:"è¦‹å‡ºã—ã‚’å…¥åŠ›"}]}];let r=[];function a(e){r=e||[],d()}let s="all";function d(){var t,n;const i=document.querySelector(".preview-job-cards");if(!i)return;const l=parseInt(null==(t=document.getElementById("recruit-jobs-limit"))?void 0:t.value)||0,c=(null==(n=document.getElementById("recruit-jobs-sort"))?void 0:n.value)||"newest";let o=[...r];if("newest"===c?o.sort((e,t)=>new Date(t.publishStartDate||0)-new Date(e.publishStartDate||0)):"oldest"===c?o.sort((e,t)=>new Date(e.publishStartDate||0)-new Date(t.publishStartDate||0)):"salary-high"===c?o.sort((e,t)=>u(t.monthlySalary)-u(e.monthlySalary)):"salary-low"===c?o.sort((e,t)=>u(e.monthlySalary)-u(t.monthlySalary)):"custom"===c&&o.sort((e,t)=>(parseInt(e.order)||999)-(parseInt(t.order)||999)),l>0&&(o=o.slice(0,l)),0===o.length)return void(i.innerHTML='<div class="preview-no-jobs">æ±‚äººãŒã‚ã‚Šã¾ã›ã‚“</div>');const a=[...new Set(o.map(e=>e.jobType).filter(Boolean))];let m="";if(a.length>1){const t={};o.forEach(e=>{const n=e.jobType||"ãã®ä»–";t[n]=(t[n]||0)+1}),m=`\n      <div class="preview-job-tabs">\n        <button class="preview-job-tab ${"all"===s?"active":""}" data-type="all">\n          <span class="tab-label">å…¨ã¦</span>\n          <span class="tab-count">${o.length}</span>\n        </button>\n        ${a.map(n=>`\n          <button class="preview-job-tab ${s===n?"active":""}" data-type="${e(n)}">\n            <span class="tab-label">${e(n)}</span>\n            <span class="tab-count">${t[n]||0}</span>\n          </button>\n        `).join("")}\n      </div>\n    `}let p=o;"all"!==s&&(p=o.filter(e=>e.jobType===s));const f=Math.min(p.length,3),y=p.slice(0,f).map(t=>`\n    <div class="preview-job-card" data-job-type="${e(t.jobType||"")}">\n      <div class="preview-job-title">${e(b(t.title||"æ±‚äººã‚¿ã‚¤ãƒˆãƒ«",20))}</div>\n      <div class="preview-job-info">${e(t.jobType||"")} ${e(t.location||"")}</div>\n    </div>\n  `).join(""),h=p.length>f?`<div class="preview-job-more">ä»– ${p.length-f}ä»¶</div>`:"";i.innerHTML=m+y+h,i.querySelectorAll(".preview-job-tab").forEach(e=>{e.addEventListener("click",()=>{s=e.dataset.type,d()})})}function u(e){if(!e)return 0;const t=String(e).match(/(\d+(?:,\d{3})*)/);return t?parseInt(t[1].replace(/,/g,""),10):0}function m(e,t=""){const n=document.getElementById("recruit-is-published");n&&(n.checked=!1!==e.isPublished),f("recruit-custom-slug",e.customSlug||""),y("recruit-jobs-limit",e.jobsLimit||"0"),y("recruit-jobs-sort",e.jobsSort||"newest");let i=e.customLinks||[];if("string"==typeof i)try{i=JSON.parse(i)}catch{i=[]}O(i);let l=e.customSections||[];if("string"==typeof l)try{l=JSON.parse(l)}catch{l=[]}var c;P(l),h(e.layoutStyle||"default"),c={primary:e.customPrimary||"",accent:e.customAccent||"",bg:e.customBg||"",text:e.customText||""},["primary","accent","bg","text"].forEach(e=>{const t=document.getElementById(`recruit-custom-${e}`),n=document.getElementById(`recruit-custom-${e}-text`),i=c[e]||"";t&&(t.value=i||("bg"===e?"#ffffff":"text"===e?"#1f2937":"#000000")),n&&(n.value=i)}),f("recruit-logo-url",e.logoUrl||""),f("recruit-company-name-display",e.companyNameDisplay||""),f("recruit-phone-number",e.phoneNumber||""),f("recruit-cta-button-text",e.ctaButtonText||"ä»Šã™ãå¿œå‹Ÿã™ã‚‹"),f("recruit-hero-title",e.heroTitle||(t?`${t}ã§åƒã“ã†`:"")),f("recruit-hero-subtitle",e.heroSubtitle||""),f("recruit-hero-image",e.heroImage||""),f("recruit-company-intro",e.companyIntro||""),f("recruit-jobs-title",e.jobsTitle||"å‹Ÿé›†ä¸­ã®æ±‚äºº"),f("recruit-cta-title",e.ctaTitle||"ã‚ãªãŸã®å¿œå‹Ÿã‚’ãŠå¾…ã¡ã—ã¦ã„ã¾ã™"),f("recruit-cta-text",e.ctaText||""),f("recruit-ogp-title",e.ogpTitle||""),f("recruit-ogp-description",e.ogpDescription||""),f("recruit-ogp-image",e.ogpImage||""),C(e.heroImage||""),$(e.logoUrl||"");const o=document.getElementById("recruit-show-video-button"),r=document.getElementById("recruit-video-url-group");o&&(o.checked="true"===String(e.showVideoButton).toLowerCase(),r&&(r.style.display=o.checked?"block":"none")),f("recruit-video-url",e.videoUrl||""),e.sectionOrder&&N(e.sectionOrder),e.sectionVisibility&&function(e){if(!e)return;try{const t=JSON.parse(e);Object.keys(t).forEach(e=>{const n=(e.startsWith("custom-"),`recruit-section-${e}-visible`),i=document.getElementById(n);i&&(i.checked=t[e])})}catch(t){console.error("ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤ºçŠ¶æ…‹ã®ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼:",t)}}(e.sectionVisibility),f("recruit-sns-twitter",e.snsTwitter||""),f("recruit-sns-instagram",e.snsInstagram||""),f("recruit-sns-facebook",e.snsFacebook||""),f("recruit-sns-youtube",e.snsYoutube||""),f("recruit-sns-line",e.snsLine||""),f("recruit-sns-tiktok",e.snsTiktok||"")}function p(e="",t="",n=""){const i=document.getElementById("recruit-is-published");i&&(i.checked=!0),f("recruit-custom-slug",""),y("recruit-jobs-limit","0"),y("recruit-jobs-sort","newest"),O([]),P([]),h("default"),v(),f("recruit-logo-url",""),f("recruit-company-name-display",e||""),f("recruit-phone-number",""),f("recruit-cta-button-text","ä»Šã™ãå¿œå‹Ÿã™ã‚‹"),f("recruit-hero-title",e?`${e}ã§åƒã“ã†`:""),f("recruit-hero-subtitle",t?b(t,100):"ç§ãŸã¡ã¨ä¸€ç·’ã«åƒãã¾ã›ã‚“ã‹ï¼Ÿ"),f("recruit-hero-image",n||""),f("recruit-company-intro",""),f("recruit-jobs-title","å‹Ÿé›†ä¸­ã®æ±‚äºº"),f("recruit-cta-title","ã‚ãªãŸã®å¿œå‹Ÿã‚’ãŠå¾…ã¡ã—ã¦ã„ã¾ã™"),f("recruit-cta-text","æ°—ã«ãªã‚‹æ±‚äººãŒã‚ã‚Œã°ã€ãœã²ãŠæ°—è»½ã«ã”å¿œå‹Ÿãã ã•ã„ã€‚"),f("recruit-ogp-title",""),f("recruit-ogp-description",""),f("recruit-ogp-image",""),C(n||""),$("");const l=document.getElementById("recruit-show-video-button"),c=document.getElementById("recruit-video-url-group");l&&(l.checked=!1),c&&(c.style.display="none"),f("recruit-video-url",""),D(),f("recruit-sns-twitter",""),f("recruit-sns-instagram",""),f("recruit-sns-facebook",""),f("recruit-sns-youtube",""),f("recruit-sns-line",""),f("recruit-sns-tiktok","")}function f(e,t){const n=document.getElementById(e);n&&(n.value=t||"")}function y(e,t){const n=document.getElementById(e);n&&(n.value=t||"")}function h(e){const t=document.querySelector(`input[name="recruit-layout-style"][value="${e}"]`);t&&(t.checked=!0)}function g(){const e=document.querySelector('input[name="recruit-layout-style"]:checked');return(null==e?void 0:e.value)||"default"}function v(){const e={primary:"",accent:"",bg:"#ffffff",text:"#1f2937"};["primary","accent","bg","text"].forEach(t=>{const n=document.getElementById(`recruit-custom-${t}`),i=document.getElementById(`recruit-custom-${t}-text`);n&&(n.value=e[t]||"#000000"),i&&(i.value="")})}function b(e,t){if(!e)return"";const n=e.replace(/<[^>]*>/g,"").replace(/\n/g," ");return n.length<=t?n:n.substring(0,t)+"..."}function E(e){const t=document.getElementById("btn-save-recruit-settings");t&&(t.disabled=e,t.textContent=e?"ä¿å­˜ä¸­...":"æ¡ç”¨ãƒšãƒ¼ã‚¸è¨­å®šã‚’ä¿å­˜")}async function x(e,n){if(!e)return t("ä¼šç¤¾æƒ…å ±ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“","error"),null;const i=function(e){var t,n,i,l,c,o,r,a,s,d,u,m,p,f,y,h,v,b,E,x,w,I,B,C,$,k,L,S,q,j;return{companyDomain:e||"",isPublished:(null==(t=document.getElementById("recruit-is-published"))?void 0:t.checked)??!0,customSlug:(null==(n=document.getElementById("recruit-custom-slug"))?void 0:n.value)||"",jobsLimit:(null==(i=document.getElementById("recruit-jobs-limit"))?void 0:i.value)||"0",jobsSort:(null==(l=document.getElementById("recruit-jobs-sort"))?void 0:l.value)||"newest",customLinks:JSON.stringify(G()),customSections:JSON.stringify(F()),layoutStyle:g(),customPrimary:(null==(c=document.getElementById("recruit-custom-primary"))?void 0:c.value)||"",customAccent:(null==(o=document.getElementById("recruit-custom-accent"))?void 0:o.value)||"",customBg:(null==(r=document.getElementById("recruit-custom-bg"))?void 0:r.value)||"",customText:(null==(a=document.getElementById("recruit-custom-text"))?void 0:a.value)||"",logoUrl:(null==(s=document.getElementById("recruit-logo-url"))?void 0:s.value)||"",companyNameDisplay:(null==(d=document.getElementById("recruit-company-name-display"))?void 0:d.value)||"",phoneNumber:(null==(u=document.getElementById("recruit-phone-number"))?void 0:u.value)||"",ctaButtonText:(null==(m=document.getElementById("recruit-cta-button-text"))?void 0:m.value)||"ä»Šã™ãå¿œå‹Ÿã™ã‚‹",heroTitle:(null==(p=document.getElementById("recruit-hero-title"))?void 0:p.value)||"",heroSubtitle:(null==(f=document.getElementById("recruit-hero-subtitle"))?void 0:f.value)||"",heroImage:(null==(y=document.getElementById("recruit-hero-image"))?void 0:y.value)||"",companyIntro:(null==(h=document.getElementById("recruit-company-intro"))?void 0:h.value)||"",jobsTitle:(null==(v=document.getElementById("recruit-jobs-title"))?void 0:v.value)||"",ctaTitle:(null==(b=document.getElementById("recruit-cta-title"))?void 0:b.value)||"",ctaText:(null==(E=document.getElementById("recruit-cta-text"))?void 0:E.value)||"",ogpTitle:(null==(x=document.getElementById("recruit-ogp-title"))?void 0:x.value)||"",ogpDescription:(null==(w=document.getElementById("recruit-ogp-description"))?void 0:w.value)||"",ogpImage:(null==(I=document.getElementById("recruit-ogp-image"))?void 0:I.value)||"",showVideoButton:(null==(B=document.getElementById("recruit-show-video-button"))?void 0:B.checked)?"true":"false",videoUrl:(null==(C=document.getElementById("recruit-video-url"))?void 0:C.value)||"",sectionOrder:T().join(","),sectionVisibility:JSON.stringify(M()),snsTwitter:(null==($=document.getElementById("recruit-sns-twitter"))?void 0:$.value)||"",snsInstagram:(null==(k=document.getElementById("recruit-sns-instagram"))?void 0:k.value)||"",snsFacebook:(null==(L=document.getElementById("recruit-sns-facebook"))?void 0:L.value)||"",snsYoutube:(null==(S=document.getElementById("recruit-sns-youtube"))?void 0:S.value)||"",snsLine:(null==(q=document.getElementById("recruit-sns-line"))?void 0:q.value)||"",snsTiktok:(null==(j=document.getElementById("recruit-sns-tiktok"))?void 0:j.value)||""}}(e);E(!0);try{return await l(i),t("æ¡ç”¨ãƒšãƒ¼ã‚¸è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ","success"),n&&n(i),i}catch(c){return console.error("[RecruitSettings] ä¿å­˜ã‚¨ãƒ©ãƒ¼:",c),t("ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ: "+c.message,"error"),null}finally{E(!1)}}function w(e,n="",i="",l=""){e&&Object.keys(e).length>0?m(e,n):p(n,i,l),t("è¨­å®šã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ","info")}function I(e){const t=document.getElementById("recruit-preview-btn");t&&e&&(t.href=`company-recruit.html?id=${encodeURIComponent(e)}`);const n=document.getElementById("recruit-edit-btn");n&&e&&(n.href=`company-recruit.html?id=${encodeURIComponent(e)}&edit`)}function B(){const t=document.getElementById("recruit-hero-image-presets");t&&(t.innerHTML=c.map(t=>`\n    <div class="hero-image-preset" data-url="${e(t.url)}" title="${e(t.name)}">\n      <img src="${e(t.thumbnail)}" alt="${e(t.name)}" loading="lazy">\n      <span class="preset-name">${e(t.name)}</span>\n      <span class="preset-check">âœ“</span>\n    </div>\n  `).join(""),t.querySelectorAll(".hero-image-preset").forEach(e=>{e.addEventListener("click",()=>{!function(e){const t=document.getElementById("recruit-hero-image");t&&(t.value=e,t.dispatchEvent(new Event("input",{bubbles:!0})));C(e)}(e.dataset.url)})}))}function C(e){const t=document.getElementById("recruit-hero-image-presets");t&&t.querySelectorAll(".hero-image-preset").forEach(t=>{const n=t.dataset.url,i=(null==e?void 0:e.split("?")[0])||"",l=(null==n?void 0:n.split("?")[0])||"";i&&l&&i===l?t.classList.add("selected"):t.classList.remove("selected")})}function $(t){const n=document.getElementById("recruit-logo-preview");n&&(n.innerHTML=t?`<img src="${e(t)}" alt="ãƒ­ã‚´ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼">`:'<span class="logo-placeholder">ãƒ­ã‚´æœªè¨­å®š</span>')}function k(e){let l=document.getElementById("btn-upload-logo"),c=document.getElementById("recruit-logo-url");const o=document.getElementById("recruit-logo-preview");if(!l||!c)return;const r=l.cloneNode(!0);l.parentNode.replaceChild(r,l),l=r;const a=c.cloneNode(!0);c.parentNode.replaceChild(a,c),c=a,c.addEventListener("input",()=>{$(c.value)}),l.addEventListener("click",async()=>{if(e)try{const r=await n({accept:"image/png,image/jpeg,image/webp,image/svg+xml"});l.disabled=!0,l.innerHTML='<span class="upload-spinner"></span> ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­...',o&&(o.classList.add("uploading"),o.innerHTML='<div class="upload-spinner"></div>');const a=Date.now(),s=await i(r,e),d=s.includes("?")?`${s}&t=${a}`:`${s}?t=${a}`;c.value=d,$(d),t("ãƒ­ã‚´ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸ","success")}catch(r){console.error("[RecruitSettings] ãƒ­ã‚´ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼:",r),"ãƒ•ã‚¡ã‚¤ãƒ«ãŒé¸æŠã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ"!==r.message&&t("ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ: "+r.message,"error"),$(c.value)}finally{l.disabled=!1,l.innerHTML='<span class="upload-icon">ğŸ“·</span> ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰',o&&o.classList.remove("uploading")}else t("ä¼šç¤¾æƒ…å ±ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“","error")})}function L(e){const n=`${window.location.origin}/company-recruit.html?c=${encodeURIComponent(e)}`,i=document.getElementById("recruit-page-url-link"),l=document.getElementById("recruit-preview-link");i&&(i.href=n,i.textContent=n),l&&(l.href=n);const c=document.getElementById("btn-copy-recruit-url");c&&c.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(n),t("URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ","success")}catch(e){console.error("URLã‚³ãƒ”ãƒ¼ã«å¤±æ•—:",e),t("ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ","error")}}),function(e){const t=document.getElementById("embed-text-link"),n=document.getElementById("embed-button-link");t&&(t.textContent=`<a href="${e}" target="_blank">æ¡ç”¨æƒ…å ±ã‚’è¦‹ã‚‹</a>`);n&&(n.textContent=`<a href="${e}" target="_blank" style="display:inline-block;padding:12px 24px;background:#6366f1;color:#fff;text-decoration:none;border-radius:8px;font-weight:bold;">æ¡ç”¨æƒ…å ±</a>`)}(n),document.querySelectorAll(".btn-copy-embed").forEach(e=>{e.addEventListener("click",async()=>{const n=e.dataset.target,i=document.getElementById(n);if(i)try{await navigator.clipboard.writeText(i.textContent),t("ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ","success")}catch(l){console.error("ã‚³ãƒ”ãƒ¼ã«å¤±æ•—:",l),t("ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ","error")}})});const o=document.getElementById("btn-generate-qr");o&&o.addEventListener("click",()=>{!function(e){const t=document.getElementById("recruit-qr-code");if(!t)return;const n=`https://chart.googleapis.com/chart?cht=qr&chs=200x200&chl=${encodeURIComponent(e)}&choe=UTF-8`;t.innerHTML=`<img src="${n}" alt="QRã‚³ãƒ¼ãƒ‰" style="width:100%;height:100%;">`}(n)})}const S={default:{primary:"#6366f1",accent:"#818cf8",bg:"#ffffff",text:"#1f2937"},modern:{primary:"#3b82f6",accent:"#60a5fa",bg:"#f8fafc",text:"#1e293b"},yellow:{primary:"#f59e0b",accent:"#fbbf24",bg:"#fffbeb",text:"#78350f"},impact:{primary:"#111827",accent:"#374151",bg:"#f9fafb",text:"#111827"},local:{primary:"#92400e",accent:"#b45309",bg:"#fef3c7",text:"#78350f"},zen:{primary:"#059669",accent:"#10b981",bg:"#f0fdf4",text:"#1f2937"}};function q(){var t,n,i,l,c,r,a,s,u;if(!document.getElementById("recruit-live-preview"))return;const m=(null==(t=document.getElementById("recruit-logo-url"))?void 0:t.value)||"",p=document.getElementById("preview-logo");p&&(m?(p.src=m,p.style.display="block"):p.style.display="none");const f=(null==(n=document.getElementById("recruit-company-name-display"))?void 0:n.value)||"",y=document.getElementById("preview-company-name");y&&(y.textContent=f||"ä¼šç¤¾å");const h=(null==(i=document.getElementById("recruit-hero-title"))?void 0:i.value)||"",v=document.getElementById("preview-hero-title");v&&(v.textContent=h||"ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼");const E=(null==(l=document.getElementById("recruit-hero-subtitle"))?void 0:l.value)||"",x=document.getElementById("preview-hero-subtitle");x&&(x.textContent=E||"ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«");const w=(null==(c=document.getElementById("recruit-hero-image"))?void 0:c.value)||"",I=document.getElementById("preview-hero");I&&(I.style.backgroundImage=w?`url(${w})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)");const B=(null==(r=document.getElementById("recruit-company-intro"))?void 0:r.value)||"",C=document.getElementById("preview-intro-text");C&&(C.textContent=B?b(B,60):"ä¼šç¤¾ç´¹ä»‹æ–‡ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™");const $=(null==(a=document.getElementById("recruit-jobs-title"))?void 0:a.value)||"",k=document.getElementById("preview-jobs-title");k&&(k.textContent=$||"å‹Ÿé›†ä¸­ã®æ±‚äºº");const L=(null==(s=document.getElementById("recruit-cta-title"))?void 0:s.value)||"",q=document.getElementById("preview-cta-title");q&&(q.textContent=L||"ã”å¿œå‹ŸãŠå¾…ã¡ã—ã¦ã„ã¾ã™");const j=(null==(u=document.getElementById("recruit-cta-button-text"))?void 0:u.value)||"",A=document.getElementById("preview-cta-button");A&&(A.textContent=j||"ä»Šã™ãå¿œå‹Ÿã™ã‚‹"),function(){const e=g(),t=document.getElementById("recruit-live-preview");if(!t)return;t.setAttribute("data-layout-style",e);const n=document.getElementById("recruit-custom-primary-text"),i=document.getElementById("recruit-custom-accent-text"),l=document.getElementById("recruit-custom-bg-text"),c=document.getElementById("recruit-custom-text-text"),o=S[e]||S.default,r={primary:(null==n?void 0:n.value)||o.primary,accent:(null==i?void 0:i.value)||o.accent,bg:(null==l?void 0:l.value)||o.bg,text:(null==c?void 0:c.value)||o.text};t.style.setProperty("--preview-primary",r.primary),t.style.setProperty("--preview-accent",r.accent),t.style.setProperty("--preview-bg",r.bg),t.style.setProperty("--preview-text",r.text)}(),d(),function(){const t=document.getElementById("preview-custom-sections");if(!t)return;const n=F();n&&0!==n.length?t.innerHTML=n.map(t=>{const n=o.find(e=>e.id===t.type);if("heading"===t.type||n&&"heading"===n.id){const n=t.content||"";return n?`\n        <div class="preview-custom-heading">\n          <h3>${e(b(n,15))}</h3>\n        </div>\n      `:""}if("text"===t.type||n&&"text"===n.id){const n=t.content||"";return n?`\n        <div class="preview-custom-text">\n          <p>${e(b(n,40))}</p>\n        </div>\n      `:""}if(n){const i=t.title||n.label,l=t.image||t.images&&t.images.length>0;return`\n        <div class="preview-custom-template" data-type="${n.id}">\n          <div class="preview-custom-template-header">\n            <span class="preview-custom-template-badge">${e(n.name)}</span>\n          </div>\n          <h4>${e(b(i,12))}</h4>\n          ${l?'<div class="preview-custom-template-image">ğŸ“·</div>':""}\n          ${t.headline?`<p class="preview-custom-headline">${e(b(t.headline,20))}</p>`:""}\n        </div>\n      `}return""}).join(""):t.innerHTML=""}(),function(){const e=document.getElementById("preview-sections-container");if(!e)return;const t=T(),n=M(),i=e.querySelectorAll(".preview-reorderable"),l={};i.forEach(e=>{const t=e.dataset.section;t&&(l[t]=e)}),t.forEach(t=>{const i=l[t];if(i){const l=!1!==n[t];i.style.display=l?"":"none",e.appendChild(i)}})}()}function j(){if(!document.getElementById("recruit-live-preview"))return;["recruit-logo-url","recruit-company-name-display","recruit-hero-title","recruit-hero-subtitle","recruit-hero-image","recruit-company-intro","recruit-jobs-title","recruit-cta-title","recruit-cta-button-text"].forEach(e=>{const t=document.getElementById(e);t&&t.addEventListener("input",q)});document.querySelectorAll('input[name="recruit-layout-style"]').forEach(e=>{e.addEventListener("change",()=>{q()})}),function(){["primary","accent","bg","text"].forEach(e=>{const t=document.getElementById(`recruit-custom-${e}`),n=document.getElementById(`recruit-custom-${e}-text`);t&&n&&(t.addEventListener("input",()=>{n.value=t.value,q()}),n.addEventListener("input",()=>{const e=n.value;/^#[0-9A-Fa-f]{6}$/.test(e)&&(t.value=e),q()}))});const e=document.getElementById("recruit-reset-colors");e&&e.addEventListener("click",()=>{v(),q()})}(),q()}const A=[{id:"hero",name:"ãƒ’ãƒ¼ãƒ­ãƒ¼",icon:"ğŸ¯",required:!0},{id:"company-intro",name:"ä¼šç¤¾ç´¹ä»‹",icon:"ğŸ¢",required:!1},{id:"jobs",name:"æ±‚äººä¸€è¦§",icon:"ğŸ“‹",required:!0},{id:"cta",name:"CTA",icon:"ğŸ“",required:!0}];function T(){const e=document.getElementById("recruit-sections-list");return e?Array.from(e.querySelectorAll(".recruit-section-item")).map(e=>e.dataset.section):A.map(e=>e.id)}function M(){const e={};A.forEach(t=>{if(!t.required){const n=document.getElementById(`recruit-section-${t.id}-visible`);e[t.id]=(null==n?void 0:n.checked)??!0}});return F().forEach((t,n)=>{const i=document.getElementById(`recruit-section-custom-${n}-visible`);e[`custom-${n}`]=(null==i?void 0:i.checked)??!0}),e}function N(e){const t=document.getElementById("recruit-sections-list");if(!t||!e)return;const n=e.split(",").map(e=>e.trim()).filter(e=>e),i=Array.from(t.querySelectorAll(".recruit-section-item")),l={};i.forEach(e=>{l[e.dataset.section]=e}),n.forEach(e=>{const n=l[e];n&&t.appendChild(n)})}function D(){const e=document.getElementById("recruit-sections-list");if(!e)return;const t=F(),n=A.map(e=>`\n      <li class="recruit-section-item" data-section="${e.id}" draggable="true">\n        <span class="section-drag-handle">â‹®â‹®</span>\n        <span class="section-icon">${e.icon}</span>\n        <span class="section-name">${e.name}</span>\n        ${e.required?'<span class="section-required-badge">å¿…é ˆ</span>':`\n          <label class="section-visibility-toggle">\n            <input type="checkbox" id="recruit-section-${e.id}-visible" checked>\n            <span class="toggle-label">è¡¨ç¤º</span>\n          </label>\n        `}\n      </li>\n    `).join(""),i=t.map((e,t)=>{const n=o.find(t=>t.id===e.type),i=n?n.label:e.type;return`\n      <li class="recruit-section-item custom-section-item" data-section="custom-${t}" data-custom-index="${t}" draggable="true">\n        <span class="section-drag-handle">â‹®â‹®</span>\n        <span class="section-icon">${{message:"ğŸ’¬",about:"ğŸ¢",business:"ğŸ’¼",photos:"ğŸ“·",text:"ğŸ“",heading:"ğŸ“Œ",image:"ğŸ–¼ï¸"}[e.type]||"âœ¨"}</span>\n        <span class="section-name">${i}</span>\n        <label class="section-visibility-toggle">\n          <input type="checkbox" id="recruit-section-custom-${t}-visible" checked>\n          <span class="toggle-label">è¡¨ç¤º</span>\n        </label>\n      </li>\n    `}).join("");e.innerHTML=n+i,H(),A.forEach(e=>{if(!e.required){const t=document.getElementById(`recruit-section-${e.id}-visible`);t&&t.addEventListener("change",q)}}),t.forEach((e,t)=>{const n=document.getElementById(`recruit-section-custom-${t}-visible`);n&&n.addEventListener("change",q)})}function H(){const e=document.getElementById("recruit-sections-list");if(!e)return;let t=null;e.querySelectorAll(".recruit-section-item").forEach(n=>{n.addEventListener("dragstart",e=>{t=n,n.classList.add("dragging"),e.dataTransfer.effectAllowed="move"}),n.addEventListener("dragend",()=>{n.classList.remove("dragging"),e.querySelectorAll(".recruit-section-item").forEach(e=>{e.classList.remove("drag-over")}),t=null,q()}),n.addEventListener("dragover",i=>{if(i.preventDefault(),!t||t===n)return;e.querySelectorAll(".recruit-section-item").forEach(e=>{e.classList.remove("drag-over")});const l=n.getBoundingClientRect(),c=l.top+l.height/2;i.clientY<c?(n.classList.add("drag-over"),e.insertBefore(t,n)):e.insertBefore(t,n.nextSibling)}),n.addEventListener("dragleave",()=>{n.classList.remove("drag-over")})})}function U(){const e=document.getElementById("recruit-show-video-button"),t=document.getElementById("recruit-video-url-group");e&&t&&e.addEventListener("change",()=>{t.style.display=e.checked?"block":"none",q()});const n=document.getElementById("recruit-video-url");n&&n.addEventListener("input",q)}function O(t){const n=document.getElementById("recruit-custom-links");n&&(n.innerHTML=(t||[]).map((t,n)=>`\n    <div class="custom-link-item" data-index="${n}">\n      <div class="custom-link-inputs">\n        <input type="text" class="custom-link-label" placeholder="ãƒªãƒ³ã‚¯ãƒ†ã‚­ã‚¹ãƒˆ" value="${e(t.label||"")}">\n        <input type="url" class="custom-link-url" placeholder="https://..." value="${e(t.url||"")}">\n      </div>\n      <button type="button" class="btn-remove-link" data-index="${n}">âœ•</button>\n    </div>\n  `).join(""),n.querySelectorAll(".btn-remove-link").forEach(e=>{e.addEventListener("click",()=>{const t=parseInt(e.dataset.index,10),n=G();n.splice(t,1),O(n)})}))}function G(){const e=document.getElementById("recruit-custom-links");if(!e)return[];const t=[];return e.querySelectorAll(".custom-link-item").forEach(e=>{var n,i;const l=(null==(n=e.querySelector(".custom-link-label"))?void 0:n.value)||"",c=(null==(i=e.querySelector(".custom-link-url"))?void 0:i.value)||"";(l||c)&&t.push({label:l,url:c})}),t}function R(){const e=G();e.push({label:"",url:""}),O(e)}function P(l){const c=document.getElementById("recruit-custom-sections");c&&(c.innerHTML=(l||[]).map((t,n)=>{const i=o.find(e=>e.id===t.type),c=i?`${i.name}ï¼ˆ${i.label}ï¼‰`:t.type;return`\n      <div class="custom-section-item" data-index="${n}" data-type="${t.type}">\n        <div class="section-item-header">\n          <span class="section-type-badge ${i?"template-badge":""}">${e(c)}</span>\n          <div class="section-item-actions">\n            <button type="button" class="btn-move-section" data-direction="up" data-index="${n}" ${0===n?"disabled":""}>â†‘</button>\n            <button type="button" class="btn-move-section" data-direction="down" data-index="${n}" ${n===l.length-1?"disabled":""}>â†“</button>\n            <button type="button" class="btn-remove-section" data-index="${n}">âœ•</button>\n          </div>\n        </div>\n        <div class="section-item-content">\n          ${function(t,n,i){return t&&t.fields?t.fields.map(t=>{const l=n[t.key]||"";if("text"===t.type)return`\n        <div class="section-field">\n          <label class="section-field-label">${e(t.label)}</label>\n          <input type="text" class="section-field-input" data-field="${t.key}"\n                 placeholder="${e(t.placeholder||"")}"\n                 value="${e(l)}">\n        </div>\n      `;if("textarea"===t.type)return`\n        <div class="section-field">\n          <label class="section-field-label">${e(t.label)}</label>\n          <textarea class="section-field-input" data-field="${t.key}" rows="3"\n                    placeholder="${e(t.placeholder||"")}">${e(l)}</textarea>\n        </div>\n      `;if("image"===t.type)return`\n        <div class="section-field">\n          <label class="section-field-label">${e(t.label)}</label>\n          <div class="section-image-field">\n            <input type="url" class="section-field-input section-image-url" data-field="${t.key}"\n                   placeholder="ç”»åƒURLï¼ˆhttps://...ï¼‰" value="${e(l)}">\n            <button type="button" class="btn-upload-section-image" data-field="${t.key}" data-index="${i}">ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</button>\n          </div>\n          ${l?`<img src="${e(l)}" class="section-image-preview" alt="">`:""}\n        </div>\n      `;if("items"===t.type){const n=Array.isArray(l)?l:[],i=t.maxItems||4;return`\n        <div class="section-field section-items-field" data-field="${t.key}" data-max-items="${i}">\n          <label class="section-field-label">${e(t.label)}</label>\n          <div class="section-items-list">\n            ${n.map((n,i)=>`\n              <div class="section-item-entry" data-item-index="${i}">\n                ${t.itemFields.map(t=>`\n                  <div class="section-item-field">\n                    <label>${e(t.label)}</label>\n                    ${"textarea"===t.type?`<textarea data-item-field="${t.key}" placeholder="${e(t.placeholder||"")}">${e(n[t.key]||"")}</textarea>`:`<input type="text" data-item-field="${t.key}" placeholder="${e(t.placeholder||"")}" value="${e(n[t.key]||"")}">`}\n                  </div>\n                `).join("")}\n                <button type="button" class="btn-remove-item" data-item-index="${i}">å‰Šé™¤</button>\n              </div>\n            `).join("")}\n          </div>\n          ${n.length<i?'<button type="button" class="btn-add-item">+ é …ç›®ã‚’è¿½åŠ </button>':""}\n        </div>\n      `}if("gallery"===t.type){const n=Array.isArray(l)?l:[],c=t.maxImages||6;return`\n        <div class="section-field section-gallery-field" data-field="${t.key}" data-max-images="${c}">\n          <label class="section-field-label">${e(t.label)}</label>\n          ${n.length>0?`\n            <div class="section-gallery-grid">\n              ${n.map((t,n)=>`\n                <div class="section-gallery-item" data-image-index="${n}">\n                  <img src="${e(t)}" alt="">\n                  <button type="button" class="btn-remove-gallery-image" data-image-index="${n}">âœ•</button>\n                </div>\n              `).join("")}\n            </div>\n          `:""}\n          ${n.length<c?`\n            <button type="button" class="btn-add-gallery-image" data-index="${i}" data-field="${t.key}">\n              <span class="gallery-add-icon">ğŸ“·</span>\n              <span class="gallery-add-text">ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>\n            </button>\n          `:""}\n        </div>\n      `}return""}).join(""):"text"===n.type?`<textarea class="section-content" data-field="content" rows="3" placeholder="ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›">${e(n.content||"")}</textarea>`:"heading"===n.type?`<input type="text" class="section-content" data-field="content" placeholder="è¦‹å‡ºã—ãƒ†ã‚­ã‚¹ãƒˆ" value="${e(n.content||"")}">`:"image"===n.type?`<input type="url" class="section-content" data-field="content" placeholder="ç”»åƒURLï¼ˆhttps://...ï¼‰" value="${e(n.content||"")}">`:""}(i,t,n)}\n        </div>\n      </div>\n    `}).join(""),function(e){e.querySelectorAll(".btn-remove-section").forEach(e=>{e.addEventListener("click",()=>{const t=parseInt(e.dataset.index,10),n=F();n.splice(t,1),P(n)})}),e.querySelectorAll(".btn-move-section").forEach(e=>{e.addEventListener("click",()=>{const t=parseInt(e.dataset.index,10),n=e.dataset.direction,i=F();"up"===n&&t>0?[i[t-1],i[t]]=[i[t],i[t-1]]:"down"===n&&t<i.length-1&&([i[t],i[t+1]]=[i[t+1],i[t]]),P(i)})}),e.querySelectorAll(".btn-upload-section-image").forEach(e=>{e.addEventListener("click",async()=>{try{const t=await n();if(t){const n=await i(t),l=e.parentElement.querySelector(".section-image-url");if(l){l.value=n;let t=e.parentElement.parentElement.querySelector(".section-image-preview");t||(t=document.createElement("img"),t.className="section-image-preview",e.parentElement.parentElement.appendChild(t)),t.src=n}}}catch(l){t("ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ","error")}})}),e.querySelectorAll(".btn-add-item").forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".custom-section-item"),n=parseInt(t.dataset.index,10),i=e.closest(".section-items-field"),l=i.dataset.field,c=parseInt(i.dataset.maxItems,10)||4,o=F();o[n]&&(Array.isArray(o[n][l])||(o[n][l]=[]),o[n][l].length<c&&(o[n][l].push({}),P(o)))})}),e.querySelectorAll(".btn-remove-item").forEach(e=>{e.addEventListener("click",()=>{const t=parseInt(e.dataset.itemIndex,10),n=e.closest(".custom-section-item"),i=parseInt(n.dataset.index,10),l=F();l[i]&&Array.isArray(l[i].items)&&(l[i].items.splice(t,1),P(l))})}),e.querySelectorAll(".btn-add-gallery-image").forEach(e=>{e.addEventListener("click",async()=>{const l=parseInt(e.dataset.index,10),c=e.dataset.field;try{const e=await n();if(e){const t=await i(e),n=F();n[l][c]||(n[l][c]=[]),n[l][c].push(t),P(n)}}catch(o){t("ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ","error")}})}),e.querySelectorAll(".btn-remove-gallery-image").forEach(e=>{e.addEventListener("click",()=>{const t=parseInt(e.dataset.imageIndex,10),n=e.closest(".custom-section-item"),i=parseInt(n.dataset.index,10),l=e.closest(".section-gallery-field").dataset.field,c=F();c[i]&&Array.isArray(c[i][l])&&(c[i][l].splice(t,1),P(c))})})}(c),function(){const e=document.getElementById("recruit-sections-list");if(!e)return;const t=T(),n=M();D();const i=T(),l=[],c=new Set;t.forEach(e=>{i.includes(e)&&(l.push(e),c.add(e))}),i.forEach(e=>{c.has(e)||l.push(e)}),N(l.join(",")),Object.keys(n).forEach(e=>{const t=document.getElementById(`recruit-section-${e}-visible`);t&&"boolean"==typeof n[e]&&(t.checked=n[e])})}(),q())}function F(){const e=document.getElementById("recruit-custom-sections");if(!e)return[];const t=[];return e.querySelectorAll(".custom-section-item").forEach(e=>{var n,i;const l=e.dataset.type,c=o.find(e=>e.id===l);if(c&&c.fields){const n={type:l};c.fields.forEach(t=>{if("items"===t.type){const i=[];e.querySelectorAll(".section-item-entry").forEach(e=>{const n={};t.itemFields.forEach(t=>{const i=e.querySelector(`[data-item-field="${t.key}"]`);i&&(n[t.key]=i.value||"")}),i.push(n)}),n[t.key]=i}else if("gallery"===t.type){const i=[];e.querySelectorAll(".section-gallery-item img").forEach(e=>{e.src&&i.push(e.src)}),n[t.key]=i}else{const i=e.querySelector(`[data-field="${t.key}"]`);i&&(n[t.key]=i.value||"")}}),t.push(n)}else{const c=(null==(n=e.querySelector(".section-content"))?void 0:n.value)||(null==(i=e.querySelector('[data-field="content"]'))?void 0:i.value)||"";t.push({type:l,content:c})}}),t}function Z(){const t=document.getElementById("template-selector-modal");t&&t.remove();const n=`\n    <div id="template-selector-modal" class="template-modal-overlay">\n      <div class="template-modal">\n        <div class="template-modal-header">\n          <h3>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¿½åŠ ã™ã‚‹</h3>\n          <button type="button" class="template-modal-close">&times;</button>\n        </div>\n        <div class="template-modal-body">\n          <p class="template-modal-description">è¿½åŠ ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</p>\n          <div class="template-list">\n            ${o.map(t=>`\n              <div class="template-item" data-template-id="${t.id}">\n                <div class="template-thumbnail">\n                  <img src='${t.thumbnail}' alt="${e(t.name)}">\n                </div>\n                <div class="template-info">\n                  <h4 class="template-name">${e(t.name)}ï¼ˆ${e(t.label)}ï¼‰</h4>\n                  <p class="template-description">${e(t.description)}</p>\n                </div>\n                <button type="button" class="btn-add-template" data-template-id="${t.id}">è¿½åŠ ã™ã‚‹</button>\n              </div>\n            `).join("")}\n          </div>\n        </div>\n        <div class="template-modal-footer">\n          <button type="button" class="btn-template-cancel">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>\n        </div>\n      </div>\n    </div>\n  `;document.body.insertAdjacentHTML("beforeend",n);const i=document.getElementById("template-selector-modal");i.querySelector(".template-modal-close").addEventListener("click",()=>{i.remove()}),i.querySelector(".btn-template-cancel").addEventListener("click",()=>{i.remove()}),i.addEventListener("click",e=>{e.target===i&&i.remove()}),i.querySelectorAll(".btn-add-template").forEach(e=>{e.addEventListener("click",()=>{!function(e){const t=o.find(t=>t.id===e),n=F();if(t){const i={type:e};t.fields.forEach(e=>{"items"===e.type?i[e.key]=[{}]:"gallery"===e.type?i[e.key]=[]:i[e.key]=""}),n.push(i)}else n.push({type:e,content:""});P(n)}(e.dataset.templateId),i.remove()})})}export{D as a,w as b,R as c,Z as d,I as e,k as f,p as g,x as h,U as i,j,a as k,L as l,c as m,m as p,B as r,H as s,q as u};
