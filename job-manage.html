<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex, nofollow">

  <title>求人管理 | リクエコ求人ナビ</title>

  <!-- スタイルシート -->
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/admin.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body class="admin-body">
  <!-- 求人管理ダッシュボード -->
  <div id="job-manage-dashboard" class="admin-dashboard">
    <!-- サイドバー -->
    <aside class="admin-sidebar">
      <div class="sidebar-header">
        <h2>リクエコ求人ナビ</h2>
        <p>求人管理</p>
      </div>
      <nav class="sidebar-nav">
        <ul>
          <li><a href="admin.html" data-section="back"><span class="nav-icon">←</span>管理画面に戻る</a></li>
          <li class="active"><a href="#" data-section="jobs"><span class="nav-icon">📋</span>求人一覧</a></li>
        </ul>
      </nav>
      <div class="sidebar-footer">
        <a href="#" id="btn-open-sheet" target="_blank" class="btn-back-top">管理シートを開く</a>
        <a href="admin.html" class="btn-logout">管理画面へ戻る</a>
      </div>
    </aside>

    <!-- メインコンテンツ -->
    <main class="admin-main">
      <!-- ヘッダー -->
      <header class="admin-header">
        <h1 id="page-title">求人一覧</h1>
        <div class="header-actions">
          <button id="btn-add-job" class="btn-primary">+ 新規求人作成</button>
          <button id="btn-refresh" class="btn-refresh">更新</button>
        </div>
      </header>

      <!-- 求人一覧セクション -->
      <section id="section-jobs" class="admin-section active">
        <div class="info-box">
          <p id="company-info">会社: <strong id="company-name">-</strong></p>
          <p>この会社の求人データは、専用の管理シートで管理されています。</p>
        </div>

        <div class="table-container">
          <table class="admin-table" id="jobs-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>募集タイトル</th>
                <th>勤務地</th>
                <th>月収</th>
                <th>表示</th>
                <th>操作</th>
              </tr>
            </thead>
            <tbody id="jobs-tbody">
              <tr>
                <td colspan="6" class="loading-cell">データを読み込み中...</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>
  </div>

  <!-- 求人編集モーダル -->
  <div id="job-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h3 id="job-modal-title">求人情報の編集</h3>
        <button class="modal-close" id="job-modal-close">&times;</button>
      </div>
      <form id="job-edit-form">
        <div class="modal-body">
          <div class="form-row">
            <div class="form-group">
              <label for="edit-job-title">募集タイトル <span class="required">*</span></label>
              <input type="text" id="edit-job-title" required placeholder="例: 製造スタッフ募集！月収32万円以上">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="edit-job-location">勤務地 <span class="required">*</span></label>
              <input type="text" id="edit-job-location" required placeholder="例: 愛知県豊田市">
            </div>
            <div class="form-group">
              <label for="edit-job-salary">月収（円）</label>
              <input type="number" id="edit-job-salary" placeholder="例: 320000">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="edit-job-bonus">賞与合計（円）</label>
              <input type="number" id="edit-job-bonus" placeholder="例: 500000">
            </div>
            <div class="form-group">
              <label for="edit-job-order">表示順</label>
              <input type="number" id="edit-job-order" placeholder="1" min="1">
            </div>
          </div>
          <div class="form-group">
            <label for="edit-job-features">特徴（カンマ区切り）</label>
            <input type="text" id="edit-job-features" placeholder="例: 未経験歓迎, 寮完備, 交通費支給">
          </div>
          <div class="form-group">
            <label for="edit-job-badges">バッジ（カンマ区切り）</label>
            <input type="text" id="edit-job-badges" placeholder="例: 急募, 高収入">
          </div>
          <div class="form-group">
            <label for="edit-job-description">仕事内容</label>
            <textarea id="edit-job-description" rows="4" placeholder="仕事内容の詳細を入力..."></textarea>
          </div>
          <div class="form-group">
            <label for="edit-job-requirements">応募資格</label>
            <textarea id="edit-job-requirements" rows="3" placeholder="応募資格を入力..."></textarea>
          </div>
          <div class="form-group">
            <label for="edit-job-benefits">福利厚生</label>
            <textarea id="edit-job-benefits" rows="3" placeholder="福利厚生を入力..."></textarea>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="edit-job-hours">勤務時間</label>
              <input type="text" id="edit-job-hours" placeholder="例: 8:00〜17:00">
            </div>
            <div class="form-group">
              <label for="edit-job-holidays">休日</label>
              <input type="text" id="edit-job-holidays" placeholder="例: 土日祝, GW, 年末年始">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="edit-job-start-date">掲載開始日</label>
              <input type="date" id="edit-job-start-date">
            </div>
            <div class="form-group">
              <label for="edit-job-end-date">掲載終了日</label>
              <input type="date" id="edit-job-end-date">
            </div>
          </div>
          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" id="edit-job-visible" checked>
              <span>公開する</span>
            </label>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn-danger" id="job-modal-delete" style="margin-right: auto; display: none;">削除</button>
          <button type="button" class="btn-secondary" id="job-modal-cancel">キャンセル</button>
          <button type="submit" class="btn-primary" id="job-modal-save">保存</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script type="module" src="/src/pages/job-manage.js"></script>
</body>
</html>
