import"./modulepreload-polyfill-YP0FEG5d.js";import{r as t,a as e,L as n}from"./LPEditor-CitVFsux.js";import{escapeHtml as o,sanitizeHtml as i,hasUrlParam as a,getUrlParam as l,trackEvent as s}from"./utils-BB91om2o.js";import r,{initCarousels as c}from"./CarouselSection-CtIueQZH.js";import{l as d}from"./api-B1sZYcOA.js";import{r as p,a as u,b as m,i as h,t as v}from"./page-analytics-5vmO1d4y.js";import"./jobs-loader-B-Q2mOFQ.js";import"./modal-gG-182nw.js";function y(t,e){return 0===e.length?"":`\n    <section class="lp-jobs">\n      <div class="lp-section-inner">\n        <h2 class="lp-section-title">å‹Ÿé›†ä¸­ã®æ±‚äºº</h2>\n        <div class="lp-jobs-list">\n          ${e.map(e=>function(t,e){const n=t.displayedFeatures||"",i=n?n.split(",").map(t=>t.trim()).filter(t=>t):[],a=t.features||"",l=a?Array.isArray(a)?a:a.split(",").map(t=>t.trim()):[],s=i.length>0?i:l,r=function(t){if(!t)return!1;const e=new Date(t);return!isNaN(e.getTime())&&e>=new Date((new Date).getTime()-6048e5)}(t.publishStartDate);return`\n    <div class="lp-job-card${r?" is-new":""}">\n      ${r?'<span class="lp-job-new-tag">âœ¨ NEW</span>':""}\n      <div class="lp-job-card-header">\n        <h3 class="lp-job-title">${o(t.title)}</h3>\n        ${t.employmentType?`<span class="lp-job-type">${o(t.employmentType)}</span>`:""}\n      </div>\n      <div class="lp-job-card-body">\n        <ul class="lp-job-info">\n          <li>\n            <span class="lp-info-icon">\n              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>\n            </span>\n            ${o(t.location)}\n          </li>\n          ${t.access?`\n          <li>\n            <span class="lp-info-icon">\n              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2c-4 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h2.23l2-2H14l2 2h2v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-3.58-4-8-4zM7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm3.5-6H6V6h5v5zm2 0V6h5v5h-5zm3.5 6c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>\n            </span>\n            ${o(t.access)}\n          </li>\n          `:""}\n          ${t.monthlySalary?`\n          <li>\n            <span class="lp-info-icon">\n              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/></svg>\n            </span>\n            ${o(t.monthlySalary)}\n          </li>\n          `:""}\n          ${t.totalBonus?`\n          <li class="highlight">\n            <span class="lp-info-icon">\n              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"/></svg>\n            </span>\n            ç‰¹å…¸ç·é¡ ${o(t.totalBonus)}\n          </li>\n          `:""}\n        </ul>\n        ${s.length>0?`\n        <div class="lp-job-tags">\n          ${s.slice(0,3).map(t=>`<span class="lp-job-tag">${o("string"==typeof t?t.trim():t)}</span>`).join("")}\n        </div>\n        `:""}\n      </div>\n      <div class="lp-job-card-footer">\n        <a href="job-detail.html?company=${o(t.companyDomain||e.companyDomain)}&job=${o(t.id||"")}" class="lp-btn-detail">è©³ç´°ã‚’è¦‹ã‚‹</a>\n      </div>\n    </div>\n  `}(e,t)).join("")}\n        </div>\n      </div>\n    </section>\n  `}function g(t,e){const n=[];return t.description&&n.push({label:"ä¼šç¤¾æ¦‚è¦",value:t.description,isHtml:!0}),t.jobDescription&&n.push({label:"ãŠä»•äº‹å†…å®¹",value:t.jobDescription,isHtml:!0}),t.workingHours&&n.push({label:"å‹¤å‹™æ™‚é–“",value:t.workingHours,isHtml:!0}),t.workLocation&&n.push({label:"å‹¤å‹™åœ°",value:t.workLocation,isHtml:!0}),e.benefits&&e.benefits!==t.benefits?n.push({label:"å¾…é‡ãƒ»ç¦åˆ©åšç”Ÿ",value:e.benefits,isHtml:!0}):t.benefits&&n.push({label:"å¾…é‡ãƒ»ç¦åˆ©åšç”Ÿ",value:t.benefits,isHtml:!0}),e.requirements&&n.push({label:"å¿œå‹Ÿè³‡æ ¼",value:e.requirements,isHtml:!0}),0===n.length?"":`\n    <section class="lp-details">\n      <div class="lp-section-inner">\n        <h2 class="lp-section-title">å‹Ÿé›†è¦é …</h2>\n        <div class="lp-details-table">\n          ${n.map(t=>`\n            <div class="lp-detail-row">\n              <dt class="lp-detail-label">${o(t.label)}</dt>\n              <dd class="lp-detail-value">${t.isHtml?i(t.value):o(t.value)}</dd>\n            </div>\n          `).join("")}\n        </div>\n      </div>\n    </section>\n  `}function b(t){if(!t)return"";const e=function(t){const e=[];if("string"==typeof t){const n=t.replace(/\\n/g,"\n").split(/\|\||[\n\r]+/).filter(t=>t.trim());for(const t of n){const n=t.match(/Q[:ï¼š](.+?)\|A[:ï¼š](.+)/i);n&&e.push({question:n[1].trim(),answer:n[2].trim()})}}else Array.isArray(t)&&t.forEach(t=>{t.question&&t.answer&&e.push(t)});return e}(t);return 0===e.length?"":`\n    <section class="lp-faq lp-faq-chat">\n      <div class="lp-section-inner">\n        <h2 class="lp-section-title">ã‚ˆãã‚ã‚‹è³ªå•</h2>\n        <div class="lp-faq-chat-container">\n          ${e.map((t,e)=>`\n            <div class="lp-faq-chat-pair">\n              \x3c!-- è³ªå•ï¼ˆå·¦å´ãƒ»ã‚µãƒãƒ¼ãƒˆï¼‰ --\x3e\n              <div class="lp-faq-chat-row lp-faq-chat-question">\n                <div class="lp-faq-chat-avatar lp-faq-chat-avatar-support">\n                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"/></svg>\n                </div>\n                <div class="lp-faq-chat-bubble lp-faq-chat-bubble-support">\n                  <span class="lp-faq-chat-text">${o(t.question)}</span>\n                </div>\n              </div>\n              \x3c!-- å›ç­”ï¼ˆå³å´ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰ --\x3e\n              <div class="lp-faq-chat-row lp-faq-chat-answer">\n                <div class="lp-faq-chat-bubble lp-faq-chat-bubble-user">\n                  <span class="lp-faq-chat-text">${o(t.answer)}</span>\n                </div>\n                <div class="lp-faq-chat-avatar lp-faq-chat-avatar-user">\n                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>\n                </div>\n              </div>\n            </div>\n          `).join("")}\n        </div>\n      </div>\n    </section>\n  `}function f(t,e){const n=e.ctaText||"ã“ã®æ±‚äººã«å¿œå‹Ÿã™ã‚‹",i=t.phoneNumber||"0120-000-000";return`\n    <section class="lp-apply" id="lp-apply">\n      <div class="lp-section-inner">\n        <h2 class="lp-section-title">å¿œå‹Ÿã™ã‚‹</h2>\n        <div class="lp-apply-content">\n          <p class="lp-apply-lead">ã”å¿œå‹Ÿãƒ»ãŠå•ã„åˆã‚ã›ã¯ãŠæ°—è»½ã«ã©ã†ã</p>\n\n          <div class="lp-apply-methods">\n            <div class="lp-apply-method lp-apply-web">\n              <h3>WEBã§å¿œå‹Ÿ</h3>\n              <p>24æ™‚é–“å—ä»˜ä¸­</p>\n              <a href="#" class="lp-btn-apply-main lp-editable" data-field="ctaText" data-label="CTAãƒ†ã‚­ã‚¹ãƒˆ">${o(n)}</a>\n              <span class="lp-cta-microcopy">1åˆ†ã§å…¥åŠ›å®Œäº† / ã¾ãšã¯è©±ã‚’èãã ã‘ã§ã‚‚OK</span>\n            </div>\n\n            <div class="lp-apply-divider">\n              <span>ã¾ãŸã¯</span>\n            </div>\n\n            <div class="lp-apply-method lp-apply-tel">\n              <h3>é›»è©±ã§å¿œå‹Ÿ</h3>\n              <p>å—ä»˜æ™‚é–“ 9:00ã€œ18:00ï¼ˆåœŸæ—¥ç¥é™¤ãï¼‰</p>\n              <a href="tel:${o(i.replace(/-/g,""))}" class="lp-btn-tel-main">\n                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>\n                ${o(i)}\n              </a>\n            </div>\n          </div>\n\n          <p class="lp-apply-note">â€» é¢æ¥ã¯éšæ™‚å®Ÿæ–½ã—ã¦ãŠã‚Šã¾ã™ã€‚ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚</p>\n        </div>\n      </div>\n    </section>\n  `}function w(t,e){const{data:n,layout:o}=t;return({"text-only":$,"image-only":L,"text-left-image-right":S,"text-right-image-left":P,"centered-with-button":j,"full-width-banner":I}[(null==o?void 0:o.variant)||"text-only"]||$)(t,e)}function $(t,e){const{data:n}=t;return`\n    <section class="lp-custom lp-custom-text-only" data-section-id="${t.id}">\n      <div class="lp-section-inner">\n        ${n.title?`<h2 class="lp-section-title">${o(n.title)}</h2>`:""}\n        ${n.content?`<div class="lp-custom-content">${T(n.content)}</div>`:""}\n        ${k(n.button)}\n      </div>\n    </section>\n  `}function L(t,e){const{data:n}=t;return n.image?`\n    <section class="lp-custom lp-custom-image-only" data-section-id="${t.id}">\n      <div class="lp-section-inner">\n        ${n.title?`<h2 class="lp-section-title">${o(n.title)}</h2>`:""}\n        <div class="lp-custom-image-container">\n          <img src="${o(n.image)}" alt="${o(n.title||"")}" loading="lazy">\n        </div>\n        ${k(n.button)}\n      </div>\n    </section>\n  `:""}function S(t,e){const{data:n}=t;return`\n    <section class="lp-custom lp-custom-split lp-custom-text-left" data-section-id="${t.id}">\n      <div class="lp-section-inner">\n        <div class="lp-split-layout">\n          <div class="lp-split-text">\n            ${n.title?`<h2 class="lp-custom-title">${o(n.title)}</h2>`:""}\n            ${n.content?`<div class="lp-custom-content">${T(n.content)}</div>`:""}\n            ${k(n.button)}\n          </div>\n          <div class="lp-split-image">\n            ${n.image?`<img src="${o(n.image)}" alt="" loading="lazy">`:'<div class="lp-image-placeholder"></div>'}\n          </div>\n        </div>\n      </div>\n    </section>\n  `}function P(t,e){const{data:n}=t;return`\n    <section class="lp-custom lp-custom-split lp-custom-text-right" data-section-id="${t.id}">\n      <div class="lp-section-inner">\n        <div class="lp-split-layout">\n          <div class="lp-split-image">\n            ${n.image?`<img src="${o(n.image)}" alt="" loading="lazy">`:'<div class="lp-image-placeholder"></div>'}\n          </div>\n          <div class="lp-split-text">\n            ${n.title?`<h2 class="lp-custom-title">${o(n.title)}</h2>`:""}\n            ${n.content?`<div class="lp-custom-content">${T(n.content)}</div>`:""}\n            ${k(n.button)}\n          </div>\n        </div>\n      </div>\n    </section>\n  `}function j(t,e){const{data:n}=t;return`\n    <section class="lp-custom lp-custom-centered" data-section-id="${t.id}">\n      <div class="lp-section-inner">\n        ${n.title?`<h2 class="lp-section-title">${o(n.title)}</h2>`:""}\n        ${n.content?`<div class="lp-custom-content">${T(n.content)}</div>`:""}\n        ${n.image?`\n          <div class="lp-custom-image-centered">\n            <img src="${o(n.image)}" alt="" loading="lazy">\n          </div>\n        `:""}\n        ${k(n.button,"centered")}\n      </div>\n    </section>\n  `}function I(t,e){const{data:n}=t,i=n.image?`background-image: url('${o(n.image)}')`:"";return`\n    <section class="lp-custom lp-custom-banner" data-section-id="${t.id}" style="${i}">\n      <div class="lp-banner-overlay"></div>\n      <div class="lp-section-inner">\n        ${n.title?`<h2 class="lp-banner-title">${o(n.title)}</h2>`:""}\n        ${n.content?`<div class="lp-banner-content">${T(n.content)}</div>`:""}\n        ${k(n.button,"banner")}\n      </div>\n    </section>\n  `}function k(t,e=""){if(!t||!t.text)return"";const n=t.style||"primary",i=t.url||"#";return`\n    <div class="lp-custom-button-wrapper ${e?`lp-btn-${e}`:""}">\n      <a href="${o(i)}" class="lp-btn lp-btn-${n}" ${t.newTab?'target="_blank" rel="noopener"':""}>\n        ${o(t.text)}\n      </a>\n    </div>\n  `}function T(t){if(!t)return"";let e=o(t).replace(/\n/g,"<br>");return e=e.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),e=e.replace(/\*(.+?)\*/g,"<em>$1</em>"),e}function q(t,e){const{data:n,layout:o}=t,i=(null==n?void 0:n.images)||[],a=(null==n?void 0:n.sectionTitle)||"",l=(null==o?void 0:o.columns)||3,s=(null==o?void 0:o.style)||"grid";if(0===i.length)return"";return({grid:E,masonry:D,slider:x}[s]||E)(t.id,a,i,l)}function E(t,e,n,i){return`\n    <section class="lp-gallery lp-gallery-grid" data-section-id="${t}">\n      <div class="lp-section-inner">\n        ${e?`<h2 class="lp-section-title">${o(e)}</h2>`:""}\n        <div class="lp-gallery-items cols-${i}">\n          ${n.map((t,e)=>function(t,e){const n="string"==typeof t?t:t.url,i="object"==typeof t&&(t.alt||t.caption)||"",a="object"==typeof t?t.caption:"";return`\n    <div class="lp-gallery-item" data-index="${e}">\n      <img src="${o(n)}" alt="${o(i)}" loading="lazy">\n      ${a?`<div class="lp-gallery-caption">${o(a)}</div>`:""}\n    </div>\n  `}(t,e)).join("")}\n        </div>\n      </div>\n    </section>\n  `}function D(t,e,n,i){return`\n    <section class="lp-gallery lp-gallery-masonry" data-section-id="${t}">\n      <div class="lp-section-inner">\n        ${e?`<h2 class="lp-section-title">${o(e)}</h2>`:""}\n        <div class="lp-gallery-masonry-grid cols-${i}">\n          ${n.map((t,e)=>function(t,e){const n="string"==typeof t?t:t.url,i="object"==typeof t&&(t.alt||t.caption)||"",a="object"==typeof t?t.caption:"";return`\n    <div class="lp-gallery-masonry-item" data-index="${e}">\n      <img src="${o(n)}" alt="${o(i)}" loading="lazy">\n      ${a?`<div class="lp-gallery-caption">${o(a)}</div>`:""}\n    </div>\n  `}(t,e)).join("")}\n        </div>\n      </div>\n    </section>\n  `}function x(t,e,n,i){return`\n    <section class="lp-gallery lp-gallery-slider" data-section-id="${t}">\n      <div class="lp-section-inner">\n        ${e?`<h2 class="lp-section-title">${o(e)}</h2>`:""}\n        <div class="lp-gallery-slider-container">\n          <div class="lp-gallery-slider-track">\n            ${n.map((t,e)=>function(t,e){const n="string"==typeof t?t:t.url,i="object"==typeof t&&(t.alt||t.caption)||"",a="object"==typeof t?t.caption:"";return`\n    <div class="lp-gallery-slide ${0===e?"active":""}" data-index="${e}">\n      <img src="${o(n)}" alt="${o(i)}">\n      ${a?`<div class="lp-gallery-slide-caption">${o(a)}</div>`:""}\n    </div>\n  `}(t,e)).join("")}\n          </div>\n          <button class="lp-gallery-slider-prev" aria-label="å‰ã¸">&#10094;</button>\n          <button class="lp-gallery-slider-next" aria-label="æ¬¡ã¸">&#10095;</button>\n        </div>\n        <div class="lp-gallery-slider-dots">\n          ${n.map((t,e)=>`<button class="lp-gallery-dot ${0===e?"active":""}" data-index="${e}" aria-label="ç”»åƒ${e+1}"></button>`).join("")}\n        </div>\n      </div>\n    </section>\n  `}function A(t,e){const{data:n,layout:o}=t,i=(null==n?void 0:n.testimonials)||[],a=(null==n?void 0:n.sectionTitle)||"ç¤¾å“¡ã®å£°",l=(null==o?void 0:o.style)||"cards";if(0===i.length)return"";return({cards:C,list:_,slider:B}[l]||C)(t.id,a,i)}function C(t,e,n){return`\n    <section class="lp-testimonial lp-testimonial-cards" data-section-id="${t}">\n      <div class="lp-section-inner">\n        <h2 class="lp-section-title">${o(e)}</h2>\n        <div class="lp-testimonial-grid">\n          ${n.map(t=>function(t){const{name:e,role:n,department:i,quote:a,avatar:l,yearsWorked:s}=t;return`\n    <div class="lp-testimonial-card">\n      <div class="lp-testimonial-quote-mark">"</div>\n      <p class="lp-testimonial-quote">${o(a||"")}</p>\n      <div class="lp-testimonial-author">\n        ${l?`\n          <div class="lp-testimonial-avatar">\n            <img src="${o(l)}" alt="${o(e||"")}" loading="lazy">\n          </div>\n        `:`\n          <div class="lp-testimonial-avatar lp-testimonial-avatar-placeholder">\n            <span>${J(e)}</span>\n          </div>\n        `}\n        <div class="lp-testimonial-info">\n          <p class="lp-testimonial-name">${o(e||"åŒ¿å")}</p>\n          ${n||i?`\n            <p class="lp-testimonial-role">\n              ${i?o(i):""}${i&&n?" / ":""}${n?o(n):""}\n            </p>\n          `:""}\n          ${s?`<p class="lp-testimonial-years">å‹¤ç¶š${o(s)}</p>`:""}\n        </div>\n      </div>\n    </div>\n  `}(t)).join("")}\n        </div>\n      </div>\n    </section>\n  `}function _(t,e,n){return`\n    <section class="lp-testimonial lp-testimonial-list" data-section-id="${t}">\n      <div class="lp-section-inner">\n        <h2 class="lp-section-title">${o(e)}</h2>\n        <div class="lp-testimonial-items">\n          ${n.map((t,e)=>function(t,e){const{name:n,role:i,department:a,quote:l,avatar:s,yearsWorked:r}=t,c=e%2==0;return`\n    <div class="lp-testimonial-list-item ${c?"":"lp-testimonial-reverse"}">\n      <div class="lp-testimonial-list-avatar">\n        ${s?`\n          <img src="${o(s)}" alt="${o(n||"")}" loading="lazy">\n        `:`\n          <div class="lp-testimonial-avatar-placeholder">\n            <span>${J(n)}</span>\n          </div>\n        `}\n      </div>\n      <div class="lp-testimonial-list-content">\n        <div class="lp-testimonial-list-header">\n          <p class="lp-testimonial-name">${o(n||"åŒ¿å")}</p>\n          ${i||a?`\n            <p class="lp-testimonial-role">\n              ${a?o(a):""}${a&&i?" / ":""}${i?o(i):""}\n            </p>\n          `:""}\n          ${r?`<p class="lp-testimonial-years">å‹¤ç¶š${o(r)}</p>`:""}\n        </div>\n        <p class="lp-testimonial-quote">${o(l||"")}</p>\n      </div>\n    </div>\n  `}(t,e)).join("")}\n        </div>\n      </div>\n    </section>\n  `}function B(t,e,n){return`\n    <section class="lp-testimonial lp-testimonial-slider" data-section-id="${t}">\n      <div class="lp-section-inner">\n        <h2 class="lp-section-title">${o(e)}</h2>\n        <div class="lp-testimonial-slider-container">\n          <div class="lp-testimonial-slider-track">\n            ${n.map((t,e)=>function(t,e){const{name:n,role:i,department:a,quote:l,avatar:s,yearsWorked:r}=t;return`\n    <div class="lp-testimonial-slide ${0===e?"active":""}" data-index="${e}">\n      <div class="lp-testimonial-slide-inner">\n        <div class="lp-testimonial-quote-mark">"</div>\n        <p class="lp-testimonial-quote">${o(l||"")}</p>\n        <div class="lp-testimonial-author">\n          ${s?`\n            <div class="lp-testimonial-avatar">\n              <img src="${o(s)}" alt="${o(n||"")}">\n            </div>\n          `:`\n            <div class="lp-testimonial-avatar lp-testimonial-avatar-placeholder">\n              <span>${J(n)}</span>\n            </div>\n          `}\n          <div class="lp-testimonial-info">\n            <p class="lp-testimonial-name">${o(n||"åŒ¿å")}</p>\n            ${i||a?`\n              <p class="lp-testimonial-role">\n                ${a?o(a):""}${a&&i?" / ":""}${i?o(i):""}\n              </p>\n            `:""}\n            ${r?`<p class="lp-testimonial-years">å‹¤ç¶š${o(r)}</p>`:""}\n          </div>\n        </div>\n      </div>\n    </div>\n  `}(t,e)).join("")}\n          </div>\n          <button class="lp-testimonial-slider-prev" aria-label="å‰ã¸">&#10094;</button>\n          <button class="lp-testimonial-slider-next" aria-label="æ¬¡ã¸">&#10095;</button>\n        </div>\n        <div class="lp-testimonial-slider-dots">\n          ${n.map((t,e)=>`<button class="lp-testimonial-dot ${0===e?"active":""}" data-index="${e}" aria-label="ç¤¾å“¡${e+1}"></button>`).join("")}\n        </div>\n      </div>\n    </section>\n  `}function J(t){if(!t)return"?";const e=t.split(/[\sã€€]+/);return e.length>=2?(e[0][0]+e[1][0]).toUpperCase():t.substring(0,2)}function V(t,e){const{data:n,layout:i}=t,a=(null==n?void 0:n.sectionTitle)||"",l=(null==n?void 0:n.videoUrl)||"",s=function(t){if(!t)return"unknown";if(t.includes("youtube.com")||t.includes("youtu.be"))return"youtube";if(t.includes("vimeo.com"))return"vimeo";if(t.includes("tiktok.com"))return"tiktok";if(t.match(/\.(mp4|webm|ogg)$/i))return"direct";return"iframe"}(l),r="unknown"!==s?s:(null==n?void 0:n.videoType)||"iframe",c=(null==n?void 0:n.description)||"",d=(null==i?void 0:i.aspectRatio)||"16:9",p=(null==i?void 0:i.fullWidth)||!1;if(!l)return`\n      <section class="lp-video lp-video-empty" data-section-id="${t.id}">\n        <div class="lp-section-inner">\n          ${a?`<h2 class="lp-section-title">${o(a)}</h2>`:""}\n          <div class="lp-video-placeholder">\n            <div class="lp-video-placeholder-icon">ğŸ¬</div>\n            <p>å‹•ç”»URLãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“</p>\n          </div>\n        </div>\n      </section>\n    `;const u=function(t,e){switch(e){case"youtube":return function(t){const e=function(t){let e=t.match(/[?&]v=([^&]+)/);return e?e[1]:(e=t.match(/youtu\.be\/([^?&]+)/),e?e[1]:(e=t.match(/youtube\.com\/embed\/([^?&]+)/),e?e[1]:(e=t.match(/youtube\.com\/shorts\/([^?&]+)/),e?e[1]:null)))}(t);if(!e)return'<p class="lp-video-error">YouTubeã®URLã‚’èªè­˜ã§ãã¾ã›ã‚“ã§ã—ãŸ</p>';return`\n    <iframe\n      src="https://www.youtube.com/embed/${e}?rel=0&modestbranding=1"\n      title="YouTubeå‹•ç”»"\n      frameborder="0"\n      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"\n      allowfullscreen\n      loading="lazy"\n    ></iframe>\n  `}(t);case"vimeo":return function(t){const e=function(t){const e=t.match(/vimeo\.com\/(?:video\/)?(\d+)/);return e?e[1]:null}(t);if(!e)return'<p class="lp-video-error">Vimeoã®URLã‚’èªè­˜ã§ãã¾ã›ã‚“ã§ã—ãŸ</p>';return`\n    <iframe\n      src="https://player.vimeo.com/video/${e}?title=0&byline=0&portrait=0"\n      title="Vimeoå‹•ç”»"\n      frameborder="0"\n      allow="autoplay; fullscreen; picture-in-picture"\n      allowfullscreen\n      loading="lazy"\n    ></iframe>\n  `}(t);case"tiktok":return function(t){return`\n    <blockquote class="tiktok-embed" cite="${o(t)}" data-video-id="">\n      <section>\n        <a target="_blank" href="${o(t)}">TikTokã§è¦‹ã‚‹</a>\n      </section>\n    </blockquote>\n    <script async src="https://www.tiktok.com/embed.js"><\/script>\n  `}(t);case"direct":return function(t){const e=t.split(".").pop().toLowerCase(),n={mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg"}[e]||"video/mp4";return`\n    <video controls preload="metadata" playsinline>\n      <source src="${o(t)}" type="${n}">\n      <p>ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯å‹•ç”»ã®å†ç”Ÿã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚</p>\n    </video>\n  `}(t);default:return function(t){return`\n    <iframe\n      src="${o(t)}"\n      title="åŸ‹ã‚è¾¼ã¿å‹•ç”»"\n      frameborder="0"\n      allowfullscreen\n      loading="lazy"\n    ></iframe>\n  `}(t)}}(l,r);return`\n    <section class="lp-video ${p?"lp-video-fullwidth":""}" data-section-id="${t.id}">\n      <div class="lp-section-inner">\n        ${a?`<h2 class="lp-section-title">${o(a)}</h2>`:""}\n        <div class="lp-video-wrapper lp-video-aspect-${d.replace(":","-")}">\n          ${u}\n        </div>\n        ${c?`<p class="lp-video-description">${o(c)}</p>`:""}\n      </div>\n    </section>\n  `}function z(t={},e="default"){const{showVideoButton:n=!1,videoUrl:i="",applyButtonText:a="ä»Šã™ãå¿œå‹Ÿã™ã‚‹",videoButtonText:l="æ±‚äººå†…å®¹ã‚’å‹•ç”»ã§è¦‹ã‚‹"}=t,s=n&&i,r=function(t){if(!t)return null;const e=t.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/);if(e)return e[1];const n=t.match(/youtu\.be\/([a-zA-Z0-9_-]{11})/);return n?n[1]:null}(i),c=r?`https://www.youtube.com/embed/${r}?autoplay=1&rel=0`:"";return`\n    <section class="lp-hero-cta-section lp-layout-${e}">\n      <div class="lp-hero-cta-buttons">\n        <a href="#lp-apply" class="lp-hero-cta-btn lp-hero-cta-btn--apply">\n          <span class="lp-hero-cta-icon">\n            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">\n              <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>\n            </svg>\n          </span>\n          <span class="lp-hero-cta-text">${o(a)}</span>\n        </a>\n        ${s?`\n        <button type="button" class="lp-hero-cta-btn lp-hero-cta-btn--video" data-video-url="${o(c)}">\n          <span class="lp-hero-cta-icon">\n            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">\n              <path d="M8 5v14l11-7z"/>\n            </svg>\n          </span>\n          <span class="lp-hero-cta-text">æ±‚äººå†…å®¹ã‚’<br>å‹•ç”»ã§è¦‹ã‚‹</span>\n        </button>\n        `:""}\n      </div>\n    </section>\n\n    ${s?'\n    <div class="lp-video-modal" id="lp-video-modal">\n      <div class="lp-video-modal-overlay"></div>\n      <div class="lp-video-modal-content">\n        <button type="button" class="lp-video-modal-close" aria-label="é–‰ã˜ã‚‹">&times;</button>\n        <div class="lp-video-modal-player">\n          <iframe id="lp-video-iframe" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n        </div>\n      </div>\n    </div>\n    ':""}\n  `}function M(){document.querySelectorAll(".lp-hero-cta-btn--video").forEach(t=>{t.addEventListener("click",()=>{!function(t){const e=document.getElementById("lp-video-modal"),n=document.getElementById("lp-video-iframe");e&&n&&t&&(n.src=t,e.classList.add("active"),document.body.style.overflow="hidden")}(t.dataset.videoUrl)})});const t=document.getElementById("lp-video-modal");if(t){const e=t.querySelector(".lp-video-modal-overlay"),n=t.querySelector(".lp-video-modal-close");e&&e.addEventListener("click",U),n&&n.addEventListener("click",U),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("active")&&U()})}}function U(){const t=document.getElementById("lp-video-modal"),e=document.getElementById("lp-video-iframe");t&&(t.classList.remove("active"),document.body.style.overflow="",e&&(e.src=""))}class F{constructor(){this.sectionRenderers={hero:e,heroCta:z,points:t,jobs:y,details:g,faq:b,apply:f,custom:w,gallery:q,testimonial:A,carousel:r,video:V},this.defaultOrder=["hero","heroCta","points","jobs","details","faq","apply"]}render(t,e,n,o){const i=`lp-pattern-${n.designPattern||t.designPattern||"standard"}`;document.body.classList.add(i);const a=`lp-layout-${n.layoutStyle||"default"}`;document.body.classList.add(a),o&&o.classList.add(a);const l=e.length>0?e[0]:t,s=this.parseLPContent(n);s&&"2.0"===s.version?this.renderV2Sections(s,t,l,e,n,o):this.renderLegacySections(t,l,e,n,o)}parseLPContent(t){var e;if(!t.lpContent)return null;try{const n="string"==typeof t.lpContent?JSON.parse(t.lpContent):t.lpContent;if("2.0"===n.version&&t.faq){const o=this.parseLegacyFAQ(t.faq),i=null==(e=n.sections)?void 0:e.find(t=>"faq"===t.type);i&&(i.data=i.data||{},i.data.items=o,i.visible=o.length>0)}return n}catch(n){return console.error("lpContent parse error:",n),null}}parseLegacyFAQ(t){if(!t)return[];const e=[],n=t.replace(/\\n/g,"\n").split(/\|\||[\n\r]+/).filter(t=>t.trim());for(const o of n){const t=o.match(/Q[:ï¼š](.+?)(?=\|A[:ï¼š]|$)/i),n=o.match(/A[:ï¼š](.+)/i);t&&n&&e.push({id:`faq-${e.length+1}`,question:t[1].trim(),answer:n[1].trim()})}return e}renderV2Sections(t,e,n,o,i,a){let{sections:l,globalSettings:s}=t;if(!l.some(t=>"heroCta"===t.type)){const t=l.findIndex(t=>"hero"===t.type),e={id:"heroCta-auto",type:"heroCta",order:t>=0?l[t].order+.5:.5,visible:!0,data:{}};l=[...l,e]}const r=l.filter(t=>!1!==t.visible).sort((t,e)=>(t.order||0)-(e.order||0)),d={company:e,mainJob:n,jobs:o,globalSettings:s||{},lpSettings:i||{}};a.innerHTML=r.map(t=>this.renderV2Section(t,d)).join(""),c(),M()}renderV2Section(t,e){var n,o,i,a,l,s,r,c,d,p,u,m,h;const v=this.sectionRenderers[t.type];if(!v)return console.warn(`Unknown section type: ${t.type}`),"";try{switch(t.type){case"hero":return v(e.company,e.mainJob,{heroTitle:null==(n=t.data)?void 0:n.title,heroSubtitle:null==(o=t.data)?void 0:o.subtitle,heroImage:null==(i=t.data)?void 0:i.image,...e.globalSettings});case"heroCta":const y=(null==(a=t.data)?void 0:a.showVideoButton)||"true"===String(null==(l=e.lpSettings)?void 0:l.showVideoButton).toLowerCase()||!0===(null==(s=e.lpSettings)?void 0:s.showVideoButton);return v({showVideoButton:y,videoUrl:(null==(r=t.data)?void 0:r.videoUrl)||(null==(c=e.lpSettings)?void 0:c.videoUrl)||"",applyButtonText:(null==(d=t.data)?void 0:d.applyButtonText)||(null==(p=e.lpSettings)?void 0:p.ctaText)||"ä»Šã™ãå¿œå‹Ÿã™ã‚‹",videoButtonText:(null==(u=t.data)?void 0:u.videoButtonText)||"æ±‚äººå†…å®¹ã‚’å‹•ç”»ã§è¦‹ã‚‹"},(null==(m=e.globalSettings)?void 0:m.layoutStyle)||"default");case"points":const g=this.convertPointsToLegacy(t.data,e.globalSettings);return v(e.company,e.mainJob,g);case"jobs":return v(e.company,e.jobs);case"details":return v(e.company,e.mainJob);case"faq":const b=this.convertFAQToLegacy(null==(h=t.data)?void 0:h.items);return b?v(b):"";case"apply":return v(e.company,e.globalSettings);case"custom":case"gallery":case"testimonial":case"carousel":case"video":return v(t,e);default:return""}}catch(y){return console.error(`Error rendering section ${t.type}:`,y),""}}convertPointsToLegacy(t,e){const n={...e};return(null==t?void 0:t.points)&&t.points.forEach((t,e)=>{n[`pointTitle${e+1}`]=t.title||"",n[`pointDesc${e+1}`]=t.description||""}),n}convertFAQToLegacy(t){return t&&0!==t.length?t.map(t=>`Q:${t.question}|A:${t.answer}`).join("||"):""}renderLegacySections(t,e,n,o,i){const a=this.parseSectionVisibility(o.sectionVisibility),l=this.parseSectionOrder(o.sectionOrder),s=o.layoutStyle||"default";i.innerHTML=l.map(i=>this.renderLegacySection(i,t,e,n,o,a,s)).join(""),M()}renderLegacySection(t,e,n,o,i,a,l){switch(t){case"hero":return this.sectionRenderers.hero(e,n,i,l);case"heroCta":return this.sectionRenderers.heroCta({showVideoButton:"true"===String(i.showVideoButton).toLowerCase()||!0===i.showVideoButton,videoUrl:i.videoUrl||"",applyButtonText:i.ctaText||"ä»Šã™ãå¿œå‹Ÿã™ã‚‹",videoButtonText:i.videoButtonText||"æ±‚äººå†…å®¹ã‚’å‹•ç”»ã§è¦‹ã‚‹"},l);case"points":return a.points?this.sectionRenderers.points(e,n,i,l):"";case"jobs":return a.jobs?this.sectionRenderers.jobs(e,o,l):"";case"details":return a.details?this.sectionRenderers.details(e,n,l):"";case"faq":return a.faq&&i.faq?this.sectionRenderers.faq(i.faq,l):"";case"apply":return this.sectionRenderers.apply(e,i,l);default:return""}}parseSectionVisibility(t){const e={points:!0,jobs:!0,details:!0,faq:!0};if(!t)return e;try{return{...e,...JSON.parse(t)}}catch(n){return console.error("ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤ºè¨­å®šã®ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼:",n),e}}parseSectionOrder(t){if(!t)return this.defaultOrder;const e=t.split(",").map(t=>t.trim()).filter(t=>t);if(0===e.length)return this.defaultOrder;if(!e.includes("heroCta")){const t=e.indexOf("hero");-1!==t?e.splice(t+1,0,"heroCta"):e.unshift("heroCta")}const n=this.defaultOrder.filter(t=>!e.includes(t));return[...e,...n]}}const N=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"];function O(t){const e=[];let n="",o=!1;for(let i=0;i<t.length;i++){const a=t[i];if('"'===a)'"'===t[i+1]?(n+='""',i++):(o=!o,n+=a);else if("\n"!==a||o){if("\r"===a)continue;n+=a}else n.trim()&&e.push(n),n=""}return n.trim()&&e.push(n),e}class R{constructor(){this.renderer=new F,this.editor=new n,this.isEditMode=a("edit"),this.jobId=null,this.companyDomain=null,this.utmParams={},this.lpSettings=null,this.company=null,this.mainJob=null,this.recruitSettings=null}async init(){var t,e,n;if(this.jobId=this.getJobId(),this.companyDomain=this.getCompanyDomain(),this.jobId||this.companyDomain){this.captureUTMParams();try{await this.waitForJobsLoader();const o=await window.JobsLoader.fetchCompanies();if(this.jobId){const[t,e]=this.jobId.split("_");if(this.company=null==o?void 0:o.find(e=>{var n;return(null==(n=e.companyDomain)?void 0:n.trim())===t&&window.JobsLoader.isCompanyVisible(e)}),console.log("[LP] ä¼šç¤¾ãƒ‡ãƒ¼ã‚¿:",this.company),console.log("[LP] ä¼šç¤¾ãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ¼:",this.company?Object.keys(this.company):[]),!this.company)return void this.showError("æŒ‡å®šã•ã‚ŒãŸä¼šç¤¾ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚");const n=await this.fetchJobs(this.company);if(this.mainJob=n.find(n=>{const o=n.jobId||n["æ±‚äººID"]||n.id||"";if(o===e||`${t}_${o}`===this.jobId)return!0;if(e.startsWith("job-")){if(o===e.replace("job-",""))return!0}return!1}),!this.mainJob)return void this.showError("æŒ‡å®šã•ã‚ŒãŸæ±‚äººã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚");this.lpSettings=await this.fetchLPSettings(this.jobId)||{},this.lpSettings=this.loadPreviewSettings(this.jobId,this.lpSettings)}else{if(this.company=null==o?void 0:o.find(t=>{var e;return(null==(e=t.companyDomain)?void 0:e.trim())===this.companyDomain&&window.JobsLoader.isCompanyVisible(t)}),!this.company)return void this.showError("æŒ‡å®šã•ã‚ŒãŸä¼šç¤¾ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚");this.lpSettings=await this.fetchLPSettingsLegacy(this.companyDomain)||{},this.lpSettings=this.loadPreviewSettings(this.companyDomain,this.lpSettings)}await this.inheritCompanyRecruitSettings();const i=l("layoutStyle");i&&(this.lpSettings.layoutStyle=i);const a=await this.fetchJobs(this.company);this.setupAdTracking(this.lpSettings),this.hideLoading();const s=document.getElementById("lp-content");if(s){const t=this.mainJob?[this.mainJob,...a.filter(t=>t!==this.mainJob)]:a;this.renderer.render(this.company,t,this.lpSettings,s),this.renderLayoutComponents(s),this.setupEventListeners(this.company),this.setupApplyModal(),this.updateFooterLinks()}if(this.isEditMode){const o={company:(null==(t=this.company)?void 0:t.company)||"",companyDomain:(null==(e=this.company)?void 0:e.companyDomain)||"",title:(null==(n=this.mainJob)?void 0:n.title)||""};this.editor.enable(this.lpSettings,this.jobId||this.companyDomain,o,this.company,this.mainJob)}this.updateSEO(this.company,this.mainJob?[this.mainJob]:a,this.lpSettings),this.isEditMode||this.trackPageView(this.company)}catch(o){console.error("LPèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:",o),this.showError("ãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚")}}else this.showError("æ±‚äººã¾ãŸã¯ä¼šç¤¾ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚")}getJobId(){return l("j")||l("job")||null}getCompanyDomain(){return l("c")||l("id")||null}async waitForJobsLoader(t=1e4){return void 0!==window.JobsLoader?window.JobsLoader:new Promise((e,n)=>{const o=Date.now(),i=setInterval(()=>{void 0!==window.JobsLoader?(clearInterval(i),e(window.JobsLoader)):Date.now()-o>t&&(clearInterval(i),n(new Error("JobsLoader timeout")))},100)})}async fetchJobs(t){var e;const n=null==(e=t.jobsSheet)?void 0:e.trim();if(!n)return[];const o=await window.JobsLoader.fetchCompanyJobs(n);return(null==o?void 0:o.length)?o.filter(t=>"false"!==t.visible&&"FALSE"!==t.visible).filter(t=>window.JobsLoader.isJobInPublishPeriod(t)).sort((t,e)=>(parseInt(t.order)||999)-(parseInt(e.order)||999)).map(e=>({...e,company:t.company,companyDomain:t.companyDomain})):[]}async inheritCompanyRecruitSettings(){var t,e,n;const o=(null==(t=this.lpSettings)?void 0:t.layoutStyle)&&"default"!==this.lpSettings.layoutStyle,i=(null==(e=this.lpSettings)?void 0:e.designPattern)&&"standard"!==this.lpSettings.designPattern,a=null==(n=this.company)?void 0:n.companyDomain;if(a)try{const t=await d(a);if(!t)return void console.log("[LP] ä¼šç¤¾ã®æ¡ç”¨ãƒšãƒ¼ã‚¸è¨­å®šãŒã‚ã‚Šã¾ã›ã‚“");if(this.recruitSettings=t,o&&i)return void console.log("[LP] LPå›ºæœ‰ã®layoutStyle/designPatternã‚’ä½¿ç”¨");const e={};!o&&t.layoutStyle&&(console.log("[LP] ä¼šç¤¾ã®æ¡ç”¨ãƒšãƒ¼ã‚¸è¨­å®šã‹ã‚‰layoutStyleã‚’ç¶™æ‰¿:",t.layoutStyle),e.layoutStyle=t.layoutStyle),!i&&t.designPattern&&(console.log("[LP] ä¼šç¤¾ã®æ¡ç”¨ãƒšãƒ¼ã‚¸è¨­å®šã‹ã‚‰designPatternã‚’ç¶™æ‰¿:",t.designPattern),e.designPattern=t.designPattern),Object.keys(e).length>0&&(this.lpSettings={...this.lpSettings,...e})}catch(l){console.log("[LP] æ¡ç”¨ãƒšãƒ¼ã‚¸è¨­å®šã®å–å¾—ã‚¨ãƒ©ãƒ¼:",l.message)}else console.log("[LP] ä¼šç¤¾ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“")}async fetchLPSettings(t){var e,n,o,i;try{const a=(null==(e=this.company)?void 0:e.manageSheetUrl)||(null==(n=this.company)?void 0:n.jobsSheet);if(console.log("[LP] ç®¡ç†ã‚·ãƒ¼ãƒˆURL:",a),console.log("[LP] ä¼šç¤¾ãƒ‡ãƒ¼ã‚¿ã®manageSheetUrl:",null==(o=this.company)?void 0:o.manageSheetUrl),console.log("[LP] ä¼šç¤¾ãƒ‡ãƒ¼ã‚¿ã®jobsSheet:",null==(i=this.company)?void 0:i.jobsSheet),!a)return console.log("[LP] ç®¡ç†ã‚·ãƒ¼ãƒˆURLãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"),null;const l=window.JobsLoader.extractSpreadsheetId(a);if(!l)return console.log("[LP] ç®¡ç†ã‚·ãƒ¼ãƒˆIDã‚’æŠ½å‡ºã§ãã¾ã›ã‚“"),null;console.log("[LP] ç®¡ç†ã‚·ãƒ¼ãƒˆID:",l);const s=`https://docs.google.com/spreadsheets/d/${l}/gviz/tq?tqx=out:csv&sheet=${encodeURIComponent("LPè¨­å®š")}`;console.log("[LP] LPè¨­å®šã‚·ãƒ¼ãƒˆURL:",s);const r=await fetch(s);if(console.log("[LP] ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:",r.status),!r.ok)return console.log("[LP] LPè¨­å®šã‚·ãƒ¼ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’ä½¿ç”¨ï¼‰"),null;const c=O(await r.text());console.log("[LP] CSVå–å¾—æˆåŠŸ, è¡Œæ•°:",c.length);const d=window.JobsLoader.parseCSVLine(c[0]||"");console.log("[LP] ãƒ˜ãƒƒãƒ€ãƒ¼:",d);for(let e=1;e<c.length;e++){if(!c[e].trim())continue;const n=window.JobsLoader.parseCSVLine(c[e]),o={};d.forEach((t,e)=>{o[t.replace(/"/g,"").trim()]=n[e]||""});const i=o.jobId||o["æ±‚äººID"]||"";if(console.log("[LP] è¡Œ",e,"ã®jobId:",i,"æ¤œç´¢ä¸­:",t),i===t)return console.log("[LP] LPè¨­å®šã‚’ç™ºè¦‹:",o),this.parseLPSettingsRow(o)}console.log("[LP] è©²å½“ã™ã‚‹jobIdãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ")}catch(a){console.log("[LP] LPè¨­å®šå–å¾—ã‚¨ãƒ©ãƒ¼:",a.message)}return null}async fetchLPSettingsLegacy(t){var e,n;try{const o=(null==(e=this.company)?void 0:e.manageSheetUrl)||(null==(n=this.company)?void 0:n.jobsSheet);if(console.log("[LP Legacy] ç®¡ç†ã‚·ãƒ¼ãƒˆURL:",o),!o)return console.log("[LP Legacy] ç®¡ç†ã‚·ãƒ¼ãƒˆURLãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"),null;const i=window.JobsLoader.extractSpreadsheetId(o);if(!i)return console.log("[LP Legacy] ç®¡ç†ã‚·ãƒ¼ãƒˆIDã‚’æŠ½å‡ºã§ãã¾ã›ã‚“"),null;const a=`https://docs.google.com/spreadsheets/d/${i}/gviz/tq?tqx=out:csv&sheet=${encodeURIComponent("LPè¨­å®š")}`,l=await fetch(a);if(!l.ok)return console.log("[LP Legacy] LPè¨­å®šã‚·ãƒ¼ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’ä½¿ç”¨ï¼‰"),null;const s=O(await l.text()),r=window.JobsLoader.parseCSVLine(s[0]||"");for(let e=1;e<s.length;e++){if(!s[e].trim())continue;const n=window.JobsLoader.parseCSVLine(s[e]),o={};if(r.forEach((t,e)=>{o[t.replace(/"/g,"").trim()]=n[e]||""}),o.companyDomain===t||o["ä¼šç¤¾ãƒ‰ãƒ¡ã‚¤ãƒ³"]===t)return this.parseLPSettingsRow(o)}}catch(o){console.log("LPè¨­å®šå–å¾—ã‚¨ãƒ©ãƒ¼:",o.message)}return null}parseLPSettingsRow(t){return{heroTitle:t.heroTitle||t["ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚¿ã‚¤ãƒˆãƒ«"]||"",heroSubtitle:t.heroSubtitle||t["ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«"]||"",heroImage:t.heroImage||t["ãƒ’ãƒ¼ãƒ­ãƒ¼ç”»åƒ"]||"",ctaText:t.ctaText||t["CTAãƒ†ã‚­ã‚¹ãƒˆ"]||"ã“ã®æ±‚äººã«å¿œå‹Ÿã™ã‚‹",pointTitle1:t.pointTitle1||t["ãƒã‚¤ãƒ³ãƒˆ1ã‚¿ã‚¤ãƒˆãƒ«"]||"",pointDesc1:t.pointDesc1||t["ãƒã‚¤ãƒ³ãƒˆ1èª¬æ˜"]||"",pointTitle2:t.pointTitle2||t["ãƒã‚¤ãƒ³ãƒˆ2ã‚¿ã‚¤ãƒˆãƒ«"]||"",pointDesc2:t.pointDesc2||t["ãƒã‚¤ãƒ³ãƒˆ2èª¬æ˜"]||"",pointTitle3:t.pointTitle3||t["ãƒã‚¤ãƒ³ãƒˆ3ã‚¿ã‚¤ãƒˆãƒ«"]||"",pointDesc3:t.pointDesc3||t["ãƒã‚¤ãƒ³ãƒˆ3èª¬æ˜"]||"",pointTitle4:t.pointTitle4||t["ãƒã‚¤ãƒ³ãƒˆ4ã‚¿ã‚¤ãƒˆãƒ«"]||"",pointDesc4:t.pointDesc4||t["ãƒã‚¤ãƒ³ãƒˆ4èª¬æ˜"]||"",pointTitle5:t.pointTitle5||t["ãƒã‚¤ãƒ³ãƒˆ5ã‚¿ã‚¤ãƒˆãƒ«"]||"",pointDesc5:t.pointDesc5||t["ãƒã‚¤ãƒ³ãƒˆ5èª¬æ˜"]||"",pointTitle6:t.pointTitle6||t["ãƒã‚¤ãƒ³ãƒˆ6ã‚¿ã‚¤ãƒˆãƒ«"]||"",pointDesc6:t.pointDesc6||t["ãƒã‚¤ãƒ³ãƒˆ6èª¬æ˜"]||"",faq:t.faq||t.FAQ||"",designPattern:t.designPattern||t["ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³"]||"standard",layoutStyle:t.layoutStyle||t["ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¹ã‚¿ã‚¤ãƒ«"]||"default",sectionOrder:t.sectionOrder||t["ã‚»ã‚¯ã‚·ãƒ§ãƒ³é †åº"]||"",sectionVisibility:t.sectionVisibility||t["ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤º"]||"",tiktokPixelId:t.tiktokPixelId||t["TikTok Pixel ID"]||"",googleAdsId:t.googleAdsId||t["Google Ads ID"]||"",googleAdsLabel:t.googleAdsLabel||t["Google Ads ãƒ©ãƒ™ãƒ«"]||"",metaPixelId:t.metaPixelId||t["Meta Pixel ID"]||"",lineTagId:t.lineTagId||t["LINE Tag ID"]||"",clarityProjectId:t.clarityProjectId||t["Clarity Project ID"]||"",ogpTitle:t.ogpTitle||t["OGPã‚¿ã‚¤ãƒˆãƒ«"]||"",ogpDescription:t.ogpDescription||t["OGPèª¬æ˜æ–‡"]||"",ogpImage:t.ogpImage||t["OGPç”»åƒ"]||"",showVideoButton:t.showVideoButton||t["å‹•ç”»ãƒœã‚¿ãƒ³è¡¨ç¤º"]||"",videoUrl:t.videoUrl||t["å‹•ç”»URL"]||"",lpContent:t.lpContent||t["LPæ§‹æˆ"]||""}}loadPreviewSettings(t,e){if(!a("preview"))return e;const n=`lp_preview_${t}`,o=sessionStorage.getItem(n);if(!o)return console.log("[LP] ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"),e;try{const t=JSON.parse(o),i=3e5;return Date.now()-t.timestamp>i?(console.log("[LP] ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿ãŒå¤ã„ãŸã‚ç ´æ£„"),sessionStorage.removeItem(n),e):(console.log("[LP] ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰: ç·¨é›†ä¸­ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨",t.lpSettings),this.showPreviewBanner(),t.lpSettings)}catch(i){return console.error("[LP] ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:",i),e}}showPreviewBanner(){const t=document.createElement("div");t.className="lp-preview-banner",t.innerHTML='\n      <span>ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰ - ä¿å­˜ã•ã‚Œã¦ã„ãªã„å¤‰æ›´ã‚’è¡¨ç¤ºä¸­</span>\n      <button type="button" onclick="this.parentElement.remove()">âœ•</button>\n    ',document.body.insertBefore(t,document.body.firstChild)}renderLayoutComponents(t){var e,n,o,i,a;const l=this.recruitSettings||{},s=(null==(e=this.lpSettings)?void 0:e.designPattern)||"standard",r=(null==(n=this.company)?void 0:n.companyDomain)||"",c=!(!l.logoUrl&&!l.companyNameDisplay),d=!(!l.phoneNumber&&!l.ctaButtonText);if(c)document.body.classList.add("has-fixed-header");else{const t=document.querySelector(".lp-header");t&&(t.style.display="block"),document.body.classList.add("has-fixed-header")}d&&document.body.classList.add("has-fixed-cta-bar");const h=(null==(o=this.lpSettings)?void 0:o.layoutStyle)||"default";if(document.body.setAttribute("data-layout-style",h),c){const t=`company-recruit.html?id=${encodeURIComponent(r)}`,e=p({logoUrl:l.logoUrl||"",companyName:l.companyNameDisplay||(null==(i=this.company)?void 0:i.company)||"",recruitPageUrl:t,showBackLink:!0,designPattern:s});document.body.insertAdjacentHTML("afterbegin",e)}const v=u({companyName:l.companyNameDisplay||(null==(a=this.company)?void 0:a.company)||"",designPattern:s});if(t.insertAdjacentHTML("afterend",v),d){const t=m({phoneNumber:l.phoneNumber||"",ctaButtonText:l.ctaButtonText||"ä»Šã™ãå¿œå‹Ÿã™ã‚‹",ctaUrl:"#apply",designPattern:s});document.body.insertAdjacentHTML("beforeend",t)}}hideLoading(){const t=document.getElementById("lp-loading");t&&(t.style.display="none")}showError(t){this.hideLoading();const e=document.getElementById("lp-content");e&&(e.innerHTML=`\n        <div class="lp-error">\n          <p>${t}</p>\n          <a href="/" class="lp-btn-back">ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹</a>\n        </div>\n      `)}setupEventListeners(t){document.querySelectorAll(".lp-faq-question").forEach(t=>{t.addEventListener("click",()=>{const e="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",!e);const n=t.getAttribute("aria-controls"),o=document.getElementById(n);o&&o.classList.toggle("open",!e)})}),document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",e=>{const n=t.getAttribute("href");if("#"===n)return;const o=document.querySelector(n);o&&(e.preventDefault(),o.scrollIntoView({behavior:"smooth",block:"start"}))})}),document.querySelectorAll(".lp-btn-apply-hero, .lp-btn-apply-main, .lp-btn-apply-footer, .lp-btn-apply-header, .lp-hero-cta-btn--apply").forEach(e=>{e.addEventListener("click",n=>{var o,i,a;n.preventDefault();const l=e.classList.contains("lp-btn-apply-hero")?"hero":e.classList.contains("lp-hero-cta-btn--apply")?"hero_cta":e.classList.contains("lp-btn-apply-main")?"main":e.classList.contains("lp-btn-apply-header")?"header":"footer";s("lp_apply_click",{company_domain:t.companyDomain,company_name:t.company,button_location:l,...this.utmParams});const r={company_domain:t.companyDomain,company_name:t.company,job_id:(null==(o=this.mainJob)?void 0:o.id)||(null==(i=this.mainJob)?void 0:i.jobId)||this.jobId||"",job_title:(null==(a=this.mainJob)?void 0:a.title)||""};this.showApplyModal(r)})}),document.querySelectorAll(".lp-btn-tel-header, .lp-btn-tel-footer").forEach(e=>{e.addEventListener("click",()=>{const n=e.classList.contains("lp-btn-tel-header")?"header":"footer";s("lp_tel_click",{company_domain:t.companyDomain,company_name:t.company,button_location:n,...this.utmParams}),this.trackConversion("Contact",{content_name:t.company,content_category:"phone_call",button_location:n,...this.utmParams})})})}updateFooterLinks(){var t;const e=document.querySelector(".lp-footer-links"),n=null==(t=this.company)?void 0:t.companyDomain;if(!e||!n)return;const o=`company-recruit.html?id=${encodeURIComponent(n)}`,i=e.querySelector('a[href="./"]');i&&(i.href=o,i.textContent="æ¡ç”¨ã‚µã‚¤ãƒˆTOP");const a=e.querySelector('a[href="./#jobs"]');a&&(a.href=`${o}#jobs`)}updateSEO(t,e,n={}){const o=n.ogpTitle||n.heroTitle||"",i=n.ogpDescription||"",a=n.ogpImage||n.heroImage||"",l=o?`${o} | ${t.company}`:`${t.company} æ±‚äººæƒ…å ± | L-SET`,s=i||(e.length>0?`${t.company}ã®æ±‚äººæƒ…å ±ã€‚${e[0].title}ãªã©${e.length}ä»¶ã®å‹Ÿé›†ä¸­ã€‚`:`${t.company}ã®æ±‚äººæƒ…å ±ãƒšãƒ¼ã‚¸ã§ã™ã€‚`);document.title=l;const r=document.querySelector('meta[name="description"]');r&&(r.content=s);const c=document.querySelector('meta[property="og:title"]');c&&(c.content=l);const d=document.querySelector('meta[property="og:description"]');if(d&&(d.content=s),a){let t=document.querySelector('meta[property="og:image"]');t||(t=document.createElement("meta"),t.setAttribute("property","og:image"),document.head.appendChild(t)),t.content=a;let e=document.querySelector('meta[name="twitter:image"]');e||(e=document.createElement("meta"),e.setAttribute("name","twitter:image"),document.head.appendChild(e)),e.content=a}let p=document.querySelector('meta[property="og:url"]');p||(p=document.createElement("meta"),p.setAttribute("property","og:url"),document.head.appendChild(p)),p.content=`${window.location.origin}${window.location.pathname}?c=${this.companyDomain}`;let u=document.querySelector('meta[name="twitter:card"]');u||(u=document.createElement("meta"),u.setAttribute("name","twitter:card"),document.head.appendChild(u)),u.content="summary_large_image"}captureUTMParams(){const t=new URLSearchParams(window.location.search);N.forEach(e=>{const n=t.get(e);n&&(this.utmParams[e]=n)});const e=this.jobId?`utm_params_job_${this.jobId}`:`utm_params_${this.companyDomain}`;if(Object.keys(this.utmParams).length>0)sessionStorage.setItem(e,JSON.stringify(this.utmParams)),console.log("[LP] UTM params captured:",this.utmParams);else{const t=sessionStorage.getItem(e);if(t)try{this.utmParams=JSON.parse(t)}catch(n){}}}setupAdTracking(t){t.tiktokPixelId&&this.initTikTokPixel(t.tiktokPixelId),t.googleAdsId&&this.initGoogleAds(t.googleAdsId),t.metaPixelId&&this.initMetaPixel(t.metaPixelId),t.lineTagId&&this.initLineTag(t.lineTagId),t.clarityProjectId&&this.initClarity(t.clarityProjectId)}initTikTokPixel(t){t&&!window.ttq&&(!function(e,n,o){e.TiktokAnalyticsObject=o;var i=e[o]=e[o]||[];i.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],i.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var a=0;a<i.methods.length;a++)i.setAndDefer(i,i.methods[a]);i.instance=function(t){for(var e=i._i[t]||[],n=0;n<i.methods.length;n++)i.setAndDefer(e,i.methods[n]);return e},i.load=function(t,e){var n="https://analytics.tiktok.com/i18n/pixel/events.js";i._i=i._i||{},i._i[t]=[],i._i[t]._u=n,i._t=i._t||{},i._t[t]=+new Date,i._o=i._o||{},i._o[t]=e||{};var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=n+"?sdkid="+t+"&lib="+o;var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(a,l)},i.load(t),i.page()}(window,document,"ttq"),console.log("[LP] TikTok Pixel initialized:",t))}initGoogleAds(t){if(!t)return;if("function"==typeof gtag)return gtag("config",t),void console.log("[LP] Google Ads configured:",t);const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,document.head.appendChild(e),e.onload=()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],window.gtag=e,e("js",new Date),e("config",t),console.log("[LP] Google Ads initialized:",t)}}initMetaPixel(t){var e,n,o,i,a,l;t&&!window.fbq&&(e=window,n=document,o="script",e.fbq||(i=e.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},e._fbq||(e._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],(a=n.createElement(o)).async=!0,a.src="https://connect.facebook.net/en_US/fbevents.js",(l=n.getElementsByTagName(o)[0]).parentNode.insertBefore(a,l)),window.fbq("init",t),window.fbq("track","PageView"),console.log("[LP] Meta Pixel initialized:",t))}initLineTag(t){t&&!window._lt&&(!function(t,e){t._ltq=t._ltq||[],t._lt=t._lt||function(){t._ltq.push(arguments)};var n=e.getElementsByTagName("head")[0],o=e.createElement("script");o.async=1,o.src="https://s.yjtag.jp/tag.js",n.appendChild(o)}(window,document),window._lt("init",{customerType:"lap",tagId:t}),window._lt("send","pv",[t]),console.log("[LP] LINE Tag initialized:",t))}initClarity(t){var e,n,o,i,a,l,s;t&&!window.clarity&&(e=window,n=document,i="script",a=t,e[o="clarity"]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},(l=n.createElement(i)).async=1,l.src="https://www.clarity.ms/tag/"+a,(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(l,s),console.log("[LP] Microsoft Clarity initialized:",t))}trackConversion(t,e={}){var n,o,i;if(window.ttq&&(window.ttq.track(t,e),console.log("[LP] TikTok event tracked:",t,e)),(null==(n=this.lpSettings)?void 0:n.googleAdsId)&&(null==(o=this.lpSettings)?void 0:o.googleAdsLabel)&&"function"==typeof gtag&&(gtag("event","conversion",{send_to:`${this.lpSettings.googleAdsId}/${this.lpSettings.googleAdsLabel}`,...e}),console.log("[LP] Google Ads conversion tracked:",this.lpSettings.googleAdsId)),window.fbq){const n={SubmitForm:"Lead",Contact:"Contact"}[t]||t;window.fbq("track",n,e),console.log("[LP] Meta Pixel event tracked:",n,e)}window._lt&&(null==(i=this.lpSettings)?void 0:i.lineTagId)&&(window._lt("send","cv",{type:"SubmitForm"===t?"Conversion":t},[this.lpSettings.lineTagId]),console.log("[LP] LINE Tag conversion tracked:",t))}trackPageView(t){var e,n,o;s("lp_view",{company_domain:t.companyDomain,company_name:t.company,...this.utmParams}),h({pageType:"lp",companyDomain:t.companyDomain,jobId:(null==(e=this.mainJob)?void 0:e.id)||(null==(n=this.mainJob)?void 0:n.jobId)||null,companyName:t.company,jobTitle:(null==(o=this.mainJob)?void 0:o.title)||null}),window.ttq&&window.ttq.track("ViewContent",{content_name:t.company,content_category:"company_lp"}),window.fbq&&window.fbq("track","ViewContent",{content_name:t.company,content_category:"company_lp"})}trackCTAButtonClick(t,e=null){var n,o,i;v({pageType:"lp",companyDomain:null==(n=this.company)?void 0:n.companyDomain,buttonType:t,jobId:(null==(o=this.mainJob)?void 0:o.id)||(null==(i=this.mainJob)?void 0:i.jobId)||null,buttonText:e})}initFirestore(){if("undefined"==typeof firebase)return console.warn("[Firestore] Firebase not loaded"),!1;const t={apiKey:"AIzaSyB3eXZoFkXOwnHxPvaHiWO7csmZK4KGqAQ",authDomain:"generated-area-484613-e3-90bd4.firebaseapp.com",projectId:"generated-area-484613-e3-90bd4"};return firebase.apps.length||firebase.initializeApp(t),window.firebaseDb=firebase.firestore(),!0}calculateAge(t){if(!t)return"";const e=new Date,n=new Date(t);let o=e.getFullYear()-n.getFullYear();const i=e.getMonth()-n.getMonth();return(i<0||0===i&&e.getDate()<n.getDate())&&o--,o}showApplyModal(t){this.currentJobData=t;const e=document.getElementById("apply-modal");if(!e)return;const n=document.getElementById("apply-job-info");n&&(n.textContent=`${t.company_name} - ${t.job_title}`);const o=document.getElementById("apply-form");o&&o.reset(),this.showApplyStep("form"),e.style.display="flex",document.body.style.overflow="hidden"}hideApplyModal(){const t=document.getElementById("apply-modal");t&&(t.style.display="none"),document.body.style.overflow="",this.currentJobData=null}showApplyStep(t){["form","complete"].forEach(e=>{const n=document.getElementById(`apply-step-${e}`);n&&(n.style.display=e===t?"block":"none")})}showFormError(t,e){const n=document.getElementById(t);n&&(n.textContent=e,n.style.display="block")}hideFormError(t){const e=document.getElementById(t);e&&(e.style.display="none")}setupApplyModal(){var t,e;this.initFirestore(),this.currentJobData=null;const n=document.getElementById("apply-modal");n&&(n.querySelectorAll(".modal-close, .modal-close-btn").forEach(t=>{t.addEventListener("click",()=>this.hideApplyModal())}),null==(t=n.querySelector(".modal-backdrop"))||t.addEventListener("click",()=>this.hideApplyModal()),null==(e=document.getElementById("apply-form"))||e.addEventListener("submit",t=>this.handleApplySubmit(t)))}async saveApplicationToFirestore(t){try{if(!window.firebaseDb)return console.warn("[Application] Firestore not initialized"),null;const e={companyDomain:t.company_domain,companyName:t.company_name,jobId:t.job_id,jobTitle:t.job_title,applicantName:t.name,applicantNameKana:t.nameKana,applicantBirthdate:t.birthdate,applicantAge:t.age,applicantGender:t.gender||"",applicantPhone:t.phone,applicantEmail:t.email,applicantAddress:t.address,applicantMessage:t.message||"",userId:null,status:"new",type:"apply",source:document.referrer||"direct",userAgent:navigator.userAgent,timestamp:new Date,createdAt:firebase.firestore.FieldValue.serverTimestamp()},n=await window.firebaseDb.collection("applications").add(e);return console.log("[Application] Saved to Firestore:",n.id),n.id}catch(e){return console.error("[Application] Failed to save:",e),null}}async handleApplySubmit(t){var e,n,o,i,a,l,r,c,d,p,u,m,h,v;t.preventDefault();const y=null==(n=null==(e=document.getElementById("apply-name"))?void 0:e.value)?void 0:n.trim(),g=null==(i=null==(o=document.getElementById("apply-name-kana"))?void 0:o.value)?void 0:i.trim(),b=null==(a=document.getElementById("apply-birthdate"))?void 0:a.value,f=null==(l=document.getElementById("apply-gender"))?void 0:l.value,w=null==(c=null==(r=document.getElementById("apply-phone"))?void 0:r.value)?void 0:c.trim(),$=null==(p=null==(d=document.getElementById("apply-email"))?void 0:d.value)?void 0:p.trim(),L=null==(m=null==(u=document.getElementById("apply-address"))?void 0:u.value)?void 0:m.trim(),S=null==(v=null==(h=document.getElementById("apply-message"))?void 0:h.value)?void 0:v.trim();if(this.hideFormError("apply-form-error"),!(y&&g&&b&&w&&$&&L))return void this.showFormError("apply-form-error","å¿…é ˆé …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");if(!this.currentJobData)return void this.showFormError("apply-form-error","ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚å†åº¦ãŠè©¦ã—ãã ã•ã„");const P=this.calculateAge(b);try{if(!(await this.saveApplicationToFirestore({...this.currentJobData,name:y,nameKana:g,birthdate:b,age:P,gender:f,phone:w,email:$,address:L,message:S})))throw new Error("Failed to save application");s("submit_application",this.currentJobData),this.trackConversion("SubmitForm",{content_name:this.currentJobData.company_name,content_category:"job_application",...this.utmParams}),this.showApplyStep("complete")}catch(j){console.error("[Apply] Submit error:",j),this.showFormError("apply-form-error","å¿œå‹Ÿã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„")}}}document.addEventListener("DOMContentLoaded",()=>{(new R).init()});
