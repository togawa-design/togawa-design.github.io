function initSearchTabs(){const e=document.querySelectorAll(".search-card"),t=document.querySelectorAll(".search-panel");e.forEach(n=>{n.addEventListener("click",function(){const n=this.dataset.method;e.forEach(e=>e.classList.remove("active")),t.forEach(e=>e.classList.remove("active")),this.classList.add("active");const o=document.getElementById("panel-"+n);o&&o.classList.add("active"),"consult"===n&&showConsultModal()})})}function showConsultModal(){const e=document.querySelector(".consult-modal");e&&e.remove();const t=document.createElement("div");t.className="consult-modal",t.innerHTML='\n    <div class="consult-modal-overlay"></div>\n    <div class="consult-modal-content">\n      <button class="consult-modal-close">&times;</button>\n      <h3>無料相談</h3>\n      <p>専門スタッフがあなたにぴったりの求人をご提案します</p>\n      <div class="consult-options">\n        <a href="#" class="consult-option line">\n          <span class="icon">LINE</span>\n          <span>LINEで相談</span>\n        </a>\n        <a href="#" class="consult-option tel">\n          <span class="icon">TEL</span>\n          <span>電話で相談</span>\n        </a>\n        <a href="#" class="consult-option form">\n          <span class="icon">FORM</span>\n          <span>フォームで相談</span>\n        </a>\n      </div>\n    </div>\n  ',document.body.appendChild(t),requestAnimationFrame(()=>{t.classList.add("active")}),t.querySelector(".consult-modal-close").addEventListener("click",()=>{t.classList.remove("active"),setTimeout(()=>t.remove(),300)}),t.querySelector(".consult-modal-overlay").addEventListener("click",()=>{t.classList.remove("active"),setTimeout(()=>t.remove(),300)})}function initMobileMenu(){const e=document.querySelector(".mobile-menu-btn");if(!e)return;const t=document.createElement("nav");t.className="mobile-nav",t.innerHTML='\n    <ul>\n      <li><a href="#jobs">お仕事紹介</a></li>\n      <li><a href="#content">コンテンツ</a></li>\n      <li><a href="#about">当サイトについて</a></li>\n      <li><a href="#contact">お問い合わせ</a></li>\n      <li><a href="admin.html">管理者</a></li>\n    </ul>\n  ',document.querySelector(".header").after(t),e.addEventListener("click",function(){this.classList.toggle("active"),t.classList.toggle("active")}),t.querySelectorAll("a").forEach(n=>{n.addEventListener("click",()=>{e.classList.remove("active"),t.classList.remove("active")})})}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t)return;const n=document.querySelector(t);if(n){e.preventDefault();const t=document.querySelector(".header").offsetHeight,o=n.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:o,behavior:"smooth"})}})})}function initHeaderScroll(){const e=document.querySelector(".header");window.addEventListener("scroll",()=>{window.scrollY>100?e.classList.add("scrolled"):e.classList.remove("scrolled")})}function animateNumbers(){const e=document.querySelectorAll(".stat-number"),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target,o=parseInt(n.textContent.replace(/,/g,""));animateNumber(n,o),t.unobserve(n)}})},{threshold:.5});e.forEach(e=>t.observe(e))}function animateNumber(e,t){const n=performance.now();requestAnimationFrame(function o(c){const s=c-n,a=Math.min(s/2e3,1),i=1-Math.pow(1-a,3),l=Math.floor(0+(t-0)*i);e.textContent=l.toLocaleString(),a<1&&requestAnimationFrame(o)})}document.addEventListener("DOMContentLoaded",function(){initSearchTabs(),initMobileMenu(),initSmoothScroll(),initHeaderScroll()}),window.addEventListener("load",animateNumbers);